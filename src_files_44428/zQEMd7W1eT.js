;/*FB_PKG_DELIM*/

__d("WAWebOrderDetailSelector",["WAWebChevronCustomIcons","WAWebChipButton.react","WAWebDropdownItem.react","WAWebL10N","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebUimUie.react","WAWebUimUieMenu.react","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j;b=j||d("react");var k=h||(h=c("react")),l=b.useRef,m=b.useState,n={option:{boxSizing:"x9f619",color:"xzwifym",cursor:"x1ypdohk",fontSize:"x7yx35o",height:"x1vqgdyp",lineHeight:"xo5v014",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingEnd:"x1uv0uf2",textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",position:"x1n2onr6",$$css:!0},chipButtonRTL:{paddingStart:"x13t6z4i",paddingEnd:"x1t3a87",$$css:!0}};function a(a){var b=a["aria-label"],e=a.defaultIndex;e=e===void 0?0:e;var f=a.onChange;a=a.options;var g=l(null),h=m(!1),j=h[0],o=h[1];h=m(e);var p=h[0],q=h[1];e=a.map(function(a,b){var e=a.id,g=a.label;return k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){f(a),q(b)},children:k.jsx("div",{className:(i||(i=c("stylex")))([n.option,d("WAWebUISpacing").uiPadding.start24,d("WAWebUISpacing").uiPadding.top13]),role:"button","aria-label":g,children:b===p?k.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{weight:"bold",children:g}):g})},e)});return k.jsxs("div",{ref:g,children:[k.jsx(c("WAWebChipButton.react"),{xstyle:c("WAWebL10N").isRTL()&&n.chipButtonRTL,"aria-label":b,PostfixIcon:d("WAWebChevronCustomIcons").ChevronDownCustomIcon,label:a[p].value,onClick:function(){return o(function(a){return!a})}}),j&&g.current&&k.jsx(d("WAWebUimUie.react").UIE,{displayName:"ValuePicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:function(){return o(!1)},children:k.jsx(c("WAWebUimUieMenu.react"),{contextMenu:{menu:e,anchor:g.current}})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebOrderDetailAmountTypeSelector",["fbt","WAWebCurrencyUtils","WAWebOrderDetailMath","WAWebOrderDetailSelector","fbs","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useMemo;function a(a){var b=a.currency,e=a.onChange,f=a.value;a=d("WAWebCurrencyUtils").formatLocalSymbol(b);b=c("fbs")._("__JHASH__O5E9X3ckRrd__JHASH__");var g=[{id:"percentage",label:h._("__JHASH__A-G_tU7l_On__JHASH__",[h._param("percentage-symbol",d("WAWebOrderDetailMath").PERCENTAGE_SYMBOL)]),value:d("WAWebOrderDetailMath").PERCENTAGE_SYMBOL},{id:"flat-amount",label:h._("__JHASH__Cbzhr9vTmmf__JHASH__",[h._param("currency-symbol",a)]),value:a}];a=l(function(){return g.findIndex(function(a){return a.value===f})},[]);return k.jsx(c("WAWebOrderDetailSelector"),{"aria-label":b,options:g,defaultIndex:a,onChange:e})}a.displayName=a.name+" [from "+f.id+"]";g.OrderDetailAmountTypeSelector=a}),226);
__d("WAWebOrderAdditionalChargesTextInput",["fbt","WAWebOrderDetailAmountTypeSelector","WAWebOrderDetailErrorUtils","WAWebOrderDetailMath","WAWebRichTextField.react","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useMemo;function a(a){var b=a.currency,c=a.label,e=a.priceValue,f=a.setError,g=a.setSymbol,i=a.setText,j=a.symbol,m=a.testid,n=a.text;m=l(function(){var a=d("WAWebOrderDetailErrorUtils").additionalChargeErrorHandler({label:c,currency:b,fieldType:j,maxFlatValue:e/d("WAWebOrderDetailMath").DEFAULT_OFFSET,enablePercentValueCheck:!0,value:n});f(Boolean(a));return a},[n,c,j,b,f,e]);return k.jsxs("div",{className:"x1n2onr6",children:[k.jsx(d("WAWebRichTextField.react").RichTextField,{value:n,testid:void 0,placeholder:h._("__JHASH__onGReHtIkEO__JHASH__",[h._param("input_label",c),h._param("currency_or_percentage",j)]),onChange:function(a){return i(a.text)},theme:"small",maxLength:10,customStyleThemes:["desaturated"],error:m}),k.jsx("div",{className:"x10l6tqk xds687c x11uqc5h xic2vs9",children:k.jsx(d("WAWebOrderDetailAmountTypeSelector").OrderDetailAmountTypeSelector,{currency:b,value:j,onChange:function(a){a=a.value;return g(a)}})})]})}a.displayName=a.name+" [from "+f.id+"]";g.AdditionalChargesTextInput=a}),226);
__d("WAWebOrderAdditionalChargesFormDrawer",["fbt","WAWebCurrencyUtils","WAWebDrawer.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebModalManager","WAWebOrderAdditionalChargesTextInput","WAWebOrderConfirmDiscardModal","WAWebOrderDetailErrorUtils","WAWebOrderDetailMath","WAWebOrderTotalPrice","WAWebRichTextField.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useMemo,n=b.useState;function a(a){var b=a.additionalCharges,e=a.currency,f=a.onApply,g=a.onBack;a=a.subtotal;var i=(b==null?void 0:b.discountText)||"",k=n(i),o=k[0];k=k[1];var p=(b==null?void 0:b.taxText)||"",q=n(p),r=q[0];q=q[1];var s=(b==null?void 0:b.shippingText)||"",t=n(s),u=t[0],v=t[1];t=(b==null?void 0:b.discountType)||d("WAWebOrderDetailMath").PERCENTAGE_SYMBOL;var w=n(t),x=w[0];w=w[1];b=(b==null?void 0:b.taxType)||d("WAWebOrderDetailMath").PERCENTAGE_SYMBOL;var y=n(b),z=y[0];y=y[1];var A=n(!1),B=A[0];A=A[1];var C=n(!1),D=C[0];C=C[1];var E=m(function(){return d("WAWebOrderDetailErrorUtils").additionalChargeErrorHandler({currency:e,value:u})},[e,u]);B=[B,D,E].some(function(a){return a});D=i!==o||p!==r||s!==u||t!==x||b!==z;return l.jsxs(c("WAWebDrawer.react"),{children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._("__JHASH__8RgD58Fc5VH__JHASH__"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:D?function(){d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebOrderConfirmDiscardModal").ConfirmDiscardModal,{onOK:g}))}:g,focusBackOrCancel:!0}),l.jsxs(c("WAWebDrawerSection.react"),{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiPadding.all16),children:[l.jsx(d("WAWebOrderAdditionalChargesTextInput").AdditionalChargesTextInput,{text:o,testid:void 0,label:h._("__JHASH__2SBdQXQN3Ax__JHASH__"),symbol:x,currency:e,priceValue:a,setText:k,setError:A,setSymbol:w}),l.jsx(d("WAWebRichTextField.react").RichTextField,{value:u,testid:void 0,placeholder:h._("__JHASH__1NeDtCr61mA__JHASH__",[h._param("currency_symbol",d("WAWebCurrencyUtils").formatAmount1000ToParts(e,0).symbol)]),onChange:function(a){return v(a.text)},theme:"small",maxLength:10,customStyleThemes:["desaturated"],error:E}),l.jsx(d("WAWebOrderAdditionalChargesTextInput").AdditionalChargesTextInput,{text:r,testid:void 0,label:h._("__JHASH__1ruu5z6W1qS__JHASH__"),symbol:z,currency:e,priceValue:a,setText:q,setError:C,setSymbol:y}),l.jsx(d("WAWebOrderTotalPrice").OrderApplyChangesButton,{disabled:B,testid:void 0,title:h._("__JHASH__-y8wWdJ1EV4__JHASH__"),onClick:function(){return f({discountText:o,taxText:r,shippingText:u,discountType:x,taxType:z})}})]})]})}a.displayName=a.name+" [from "+f.id+"]";g.AdditionalChargesFormDrawer=a}),226);
__d("WAWebOrderCatalogFormProduct",["fbt","WAWebCommonQuantityControls.react","WAWebProductCatalogListItem.react","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState;function a(a){var b=a.onProductSelectChange,d=a.product;a=a.productsSelection;var e=Number(a.getVal(d))||0,f=l(!1),g=f[0],i=f[1];return k.jsx("div",{onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},children:k.jsx(c("WAWebProductCatalogListItem.react"),{product:d,detail:(g||a.isSelected(d))&&k.jsx(c("WAWebCommonQuantityControls.react"),{quantity:e,quantityTitle:h._("__JHASH__AGU87eK1Uf5__JHASH__"),isCollapsed:!g,onAddOneClick:function(){return b(d,e+1)},onRemoveOneClick:function(){return b(d,e-1)}}),managedFocus:!0,theme:"product-add-to-order"})})}a.displayName=a.name+" [from "+f.id+"]";g.CatalogFormProduct=a}),226);
__d("WAWebOrderCatalogFormProductsList",["WAWebCatalogCollection","WAWebFlatList.react","WAWebFlatListContainer.react","WAWebFlatListLoadingSpinnerItem.react","WAWebFrontendConstants","WAWebOrderCatalogFormProduct","WAWebProductCatalogCatalogConstants","WAWebUserPrefsMeUser","asyncToGeneratorRuntime","react","useWAWebDebouncedCallback","useWAWebForceUpdate","useWAWebListener","useWAWebThrottledCallback","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h,i;e=i||d("react");var j=h||(h=c("react")),k=e.useEffect,l=e.useState,m=100,n=d("WAWebFlatList.react").FlatListFactory();function a(a){var e=a.className,f=a.flatListController,g=a.onProductSelectChange,h=a.orderItems,i=a.productsSelection,o=c("useWAWebUnmountSignal")();a=d("useWAWebForceUpdate").useForceUpdateDONOTUSE();a=c("useWAWebDebouncedCallback")(a,100);var p=d("WAWebCatalogCollection").CatalogCollection.assertGet(d("WAWebUserPrefsMeUser").getMaybeMeUser()),q=l(!1),r=q[0],s=q[1];q=l(0);var t=q[0],u=q[1];q=l(!1);var v=q[0],w=q[1],x=function(){var a=new Set(h.map(function(a){a=a.id;return a})),b=p.productCollection.getProductModels();return b.filter(function(b){return!a.has(b.id)}).map(function(a){return{itemKey:a.id.toString(),product:a}})},y=function(a){a.forEach(function(a){var b=h.find(function(b){b=b.id;return b===a.product.id});b!==void 0&&g(a.product,Number(b.quantity),!0)})},z=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(v)return;if(!p.afterCursor)return;var a=p.productCollection.getProductModels().length;s(!0);u(a);try{var b=(yield d("WAWebCatalogCollection").CatalogCollection.update(d("WAWebUserPrefsMeUser").getMaybeMeUser()));if(o.aborted)return;s(!1);b=Array.isArray(b)?b[0]:b;b=b.productCollection.getProductModels().length;y(x().slice(a));b===t&&w(!0);if(a*d("WAWebProductCatalogCatalogConstants").PRODUCT_LIST_ITEM_HEIGHT<window.innerHeight)return z()}catch(a){s(!1),w(!0)}});return function(){return a.apply(this,arguments)}}();k(function(){y(x()),z()},[]);d("useWAWebListener").useListener(p.productCollection,"add",a);var A=c("useWAWebThrottledCallback")(function(a){if(r)return;a.scrollTop+d("WAWebFrontendConstants").SCROLL_FUDGE>a.scrollHeight-a.clientHeight&&z()},m);q=function(a){a.currentTarget&&A(a.currentTarget)};return j.jsxs(c("WAWebFlatListContainer.react"),{className:e,flatListControllers:[f],onScroll:q,children:[j.jsx(n,{flatListController:f,direction:"vertical",forceConsistentRenderCount:!1,data:x(),renderItem:function(a){a=a.product;return j.jsx(d("WAWebOrderCatalogFormProduct").CatalogFormProduct,{product:a,productsSelection:i,onProductSelectChange:g})},defaultItemHeight:d("WAWebProductCatalogCatalogConstants").PRODUCT_LIST_ITEM_HEIGHT}),r&&j.jsx(c("WAWebFlatListLoadingSpinnerItem.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebOrderExpansionDifferentCurrencyPopup.react",["fbt","WAWebBizGatingUtils","WAWebConfirmPopup.react","WAWebModalManager","WAWebWDSText.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){var a=function(){d("WAWebModalManager").ModalManager.close()};return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{testid:void 0,title:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH__EK4Wq5QjfrS__JHASH__"):h._("__JHASH__nfpO4rNDpIT__JHASH__"),onOK:a,children:j.jsx(d("WAWebWDSText.react").WDSTextSectionTitle,{testid:void 0,children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH__O9ADRmQVU88__JHASH__"):h._("__JHASH__oEQxFb_cUdS__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderCatalogFormDrawer",["fbt","WAWebBizGatingUtils","WAWebCurrencyUtils","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebFlatListController","WAWebModalManager","WAWebOrderAddItem","WAWebOrderCatalogFormProductsList","WAWebOrderConfirmDiscardModal","WAWebOrderExpansionDifferentCurrencyPopup.react","WAWebOrderTotalPrice","WAWebOrdersExpansionUtils","WAWebUISpacing","react","stylex","useWAWebForceUpdate"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useMemo,n=b.useState,o={catalogTitleText:{fontWeight:"xo1l8bm",lineHeight:"x1u7k74",fontSize:"x1nxh6w3",color:"xyvbeiw",$$css:!0},catalogBar:{width:"xh8yej3",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",borderTopWidth:"xt8cgyo",borderTopStyle:"x13fuv20",borderTopColor:"xyj1x25",$$css:!0},drawerSection:{display:"x78zum5",overflowX:"xw2csxc",overflowY:"x1odjw0f",flexDirection:"xdt5ytf",$$css:!0}};function a(a){var b=a.currency,e=a.onAddCustomItem,f=a.onAddProducts,g=a.onBack,i=a.onProductSelectionChange,k=a.orderItems,p=a.priceMap,q=a.productsSelection;a=n(!1);var r=a[0],s=a[1],t=d("useWAWebForceUpdate").useForceUpdateDONOTUSE();a=m(function(){return new(c("WAWebFlatListController"))()},[]);var u=function(a,e,f){f===void 0&&(f=!1);if(d("WAWebOrdersExpansionUtils").shouldPreventCatalogProductSelection(k,b)){d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebOrderExpansionDifferentCurrencyPopup.react"),{}));return}i(a,e);!f&&!r&&s(!0);t()},v=q.getSelected().reduce(function(a,b){return a+((a=(a=b.priceAmount1000)!=null?a:p[b.id.toString()])!=null?a:0)*Number(q.getVal(b))},0),w=k.filter(function(a){return a.isCustomItem}).reduce(function(a,b){return a+b.price*b.quantity},0);v=v+w;return l.jsxs(c("WAWebDrawer.react"),{children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._("__JHASH__mNP7ZJL56em__JHASH__"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:r?function(){d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebOrderConfirmDiscardModal").ConfirmDiscardModal,{onOK:g}))}:g,focusBackOrCancel:!0}),l.jsxs(c("WAWebDrawerBody.react"),{children:[l.jsxs(c("WAWebDrawerSection.react"),{theme:"expand-height",xstyle:o.drawerSection,children:[d("WAWebBizGatingUtils").orderDetailsCustomItemEnabled()&&l.jsxs(l.Fragment,{children:[l.jsx(d("WAWebOrderAddItem").AddOrderItem,{title:h._("__JHASH__47sCL5KaaZv__JHASH__"),onClick:e}),l.jsx("hr",{className:(j||(j=c("stylex")))(o.catalogBar,d("WAWebUISpacing").uiMargin.vert0)})]}),l.jsx("p",{className:(j||(j=c("stylex")))(o.catalogTitleText,d("WAWebUISpacing").uiPadding.start16,d("WAWebUISpacing").uiPadding.vert10),children:h._("__JHASH__HdsQtf6HAdI__JHASH__")}),l.jsx(c("WAWebOrderCatalogFormProductsList"),{className:"xw2csxc x1odjw0f x1iyjqo2 xs83m0k x18xmwgd",productsSelection:q,orderItems:k,flatListController:a,onProductSelectChange:u})]}),l.jsx(c("WAWebDrawerSection.react"),{children:l.jsx(d("WAWebOrderTotalPrice").OrderTotalPrice,{xstyle:[d("WAWebUISpacing").uiPadding.all16,d("WAWebUISpacing").uiMargin.top10],visible:!0,disabled:!r,totalPrice:d("WAWebCurrencyUtils").formatAmount1000(b,v),testid:void 0,onConfirm:f,title:h._("__JHASH__g4gKr8amCcu__JHASH__"),confirmTitle:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH__HuueidwZuDm__JHASH__"):h._("__JHASH__VJyafXm1w7w__JHASH__")})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g.OrderCatalogFormDrawer=a}),226);
__d("WAWebOrderCustomItemFormDrawer",["fbt","WAWebBizCartConstants","WAWebBizGatingUtils","WAWebCurrencyUtils","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebFlex.react","WAWebFlexItem.react","WAWebModalManager","WAWebOrderConfirmDiscardModal","WAWebOrderTotalPrice","WAWebProductModel","WAWebRichTextField.react","WAWebUISpacing","WAWebWDSMenuItems.react","WAWebWDSSelect.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useMemo,n=b.useState;function o(a){return Number.isInteger(a)&&+a>0&&+a<=d("WAWebBizCartConstants").CART_ITEM_MAX_QUANTITY}function p(a){if(a==null)return"";var b=String(h._("__JHASH__f5-lBXdu7LA__JHASH__"));return a.trim()===""?b:""}function q(a,b){if(b==null)return"";var c=String(h._("__JHASH__2IPLVstlhNE__JHASH__"));return b.trim()===""||!d("WAWebCurrencyUtils").validatePriceString(a,b,d("WAWebProductModel").MIN_PRICE,d("WAWebProductModel").MAX_PRICE)?c:""}function r(a){if(a==null)return"";var b=String(h._("__JHASH__4nlFUu9WD0-__JHASH__"));a=Number(a);return o(a)?"":b}function s(a,b,c,d){d=(a==null?void 0:a.isQuantitySet)?Number(d)!==a.quantity:d!=null;return(a==null?void 0:a.name)!==b||(a==null?void 0:a.price)!==c||d}function a(a){var b=a.currency,e=a.customItem,f=a.eligibleCurrencies,g=a.onBack,i=a.onSaveCustomItem;a=n(e==null?void 0:e.name);var k=a[0],t=a[1];a=n(Number.isInteger(e==null?void 0:e.price)?String(Number(e==null?void 0:e.price)/1e3):null);var u=a[0],v=a[1];a=n(e==null?void 0:e.price);var w=a[0],x=a[1];a=n((e==null?void 0:e.isQuantitySet)?e.quantity:null);var y=a[0],z=a[1];a=n((e==null?void 0:e.isQuantitySet)?String(e.quantity):null);var A=a[0],B=a[1];a=n((a=e==null?void 0:e.currency)!=null?a:b);var C=a[0],D=a[1];a=function(a){t(a.text)};var E=function(a){a=a.text;var c=d("WAWebCurrencyUtils").valueFromString(b,a);x(c);v(a)},F=function(a){a=a.text;var b=a===""?null:Number(a);o(b)||(b=null);z(b);B(a===""?null:a)},G=function(){var a={name:k,priceAmount1000:+w,quantity:y,isQuantitySet:Number.isInteger(y),currency:C};i(a)},H=m(function(){return p(k)},[k]),I=m(function(){return q(b,u)},[b,u]),J=m(function(){return r(A)},[A]),K=s(e,k,w,A),L=function(){if(k==null||u==null)return!0;return e&&!K?!0:[H,I,J].some(function(a){return a})},M=function(a){D(a)},N=d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH__cdupJZAwgf2__JHASH__"):h._("__JHASH__6ng6AR3AM4-__JHASH__");return l.jsxs(c("WAWebDrawer.react"),{children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:e?h._("__JHASH__HPJg-kQRFBP__JHASH__"):h._("__JHASH__lbJtXsnVhYZ__JHASH__"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:K?function(){d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebOrderConfirmDiscardModal").ConfirmDiscardModal,{onOK:g}))}:g,focusBackOrCancel:!0}),l.jsx(c("WAWebDrawerBody.react"),{children:l.jsxs(c("WAWebDrawerSection.react"),{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiPadding.all16),children:[l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:k,placeholder:h._("__JHASH__aFjblKEpQV-__JHASH__"),onChange:a,theme:"small",customStyleThemes:["desaturated"],maxLength:150,error:H}),l.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[l.jsx(c("WAWebFlexItem.react"),{grow:4,children:l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:u,placeholder:h._("__JHASH__ETi-4ffrlKE__JHASH__",[h._param("symbol",d("WAWebCurrencyUtils").formatAmount1000ToParts(C,0).symbol)]),onChange:E,theme:"small",maxLength:30,customStyleThemes:["desaturated"],error:I})}),((a=f==null?void 0:f.length)!=null?a:0)>1&&l.jsx(c("WAWebFlexItem.react"),{testid:void 0,children:l.jsx(d("WAWebWDSSelect.react").Select,{ariaRoleDescription:"Currency selection in custom order item screen",initialSelection:C,width:150,onChange:M,children:((E=f)!=null?E:[]).map(function(a){return l.jsx(d("WAWebWDSMenuItems.react").SelectMenuItem,{optionId:a,primary:a+" "+d("WAWebCurrencyUtils").formatLocalSymbol(a)},a)})})})]}),l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:A,placeholder:h._("__JHASH__K4-_wvgb0TY__JHASH__"),onChange:F,theme:"small",maxLength:30,customStyleThemes:["desaturated"],error:J}),l.jsx(d("WAWebOrderTotalPrice").OrderApplyChangesButton,{title:e?h._("__JHASH__c9o3Itqw4CF__JHASH__"):N,disabled:L(),onClick:G,testid:void 0})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g.CustomItemFormDrawer=a}),226);
__d("WAWebOrderEnterPriceToastMessage",["fbt","WAWebToast.react","WAWebToastManager","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function k(a){var b=a.length;if(b===0)return"";if(b===1)return h._("__JHASH__Aqq0w-_tGCb__JHASH__",[h._param("first-product-name",a[0])]);return b===2?h._("__JHASH__nyEzcNQZKXE__JHASH__",[h._param("first-product-name",a[0]),h._param("second-product-name",a[1])]):h._("__JHASH__FJt8f6cwFi___JHASH__",[h._plural(b-2,"other-items"),h._param("first-product-name",a[0]),h._param("second-product-name",a[1])])}a=function(a,b){a=a.reduce(function(a,c){var d;d=(d=c.price)!=null?d:b[c.id];Number.isInteger(d)||a.push(c.name||"");return a},[]);a=k(a);if(!a)return;d("WAWebToastManager").ToastManager.open(j.jsx(d("WAWebToast.react").Toast,{duration:1e4,msg:a,action:{actionText:h._("__JHASH__nLwPTwDvvsf__JHASH__"),dismiss:!0,theme:"success"}}))};g.getErrorMsgFromProducts=k;g.notifyIfAnyProductMissesPrice=a}),226);
__d("WAWebOrderRequestDrawerOverflowMenu.react",["fbt","WAWebDropdown.react","WAWebDropdownItem.react","WAWebMenuBar.react","WAWebMenuIcon","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");b=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);a=a.onDecline;a=[j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:a,children:h._("__JHASH__RatPA9RPfEr__JHASH__")},"decline-dropdown-item")];return j.jsx(d("WAWebMenuBar.react").MenuBarItem,{ref:b,testid:void 0,icon:j.jsx(d("WAWebMenuIcon").MenuIcon,{}),title:h._("__JHASH__5OGUiMSfL55__JHASH__"),children:j.jsx(d("WAWebDropdown.react").Dropdown,{type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT,children:a})})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),226);
__d("WAWebOrderRequestEducationIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="order-request-education";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=200;m=360;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 360 200",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M258.1 168.5C265.226 168.474 272.053 165.631 277.092 160.592C282.131 155.553 284.974 148.726 285 141.6V101.8H188.9V168.4",fill:"#D6EBF7"}),j.jsx("path",{d:"M258.1 168.5C265.226 168.474 272.053 165.631 277.092 160.592C282.131 155.553 284.974 148.726 285 141.6V101.8H188.9V168.4",stroke:"#3A5564",strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{d:"M119.3 14.5V141.7C119.3 156.5 128.3 168.6 143.1 168.6H260C245.2 168.6 236.2 156.6 236.2 141.7V14.5H235.9C231 14.5 231 20.2 226.2 20.2C221.4 20.2 221.3 14.5 216.5 14.5C211.7 14.5 211.6 20.2 206.8 20.2C202 20.2 201.9 14.5 197.1 14.5C192.3 14.5 192.2 20.2 187.4 20.2C182.5 20.2 182.5 14.5 177.7 14.5C172.9 14.5 172.8 20.2 168 20.2C163.2 20.2 163.1 14.5 158.3 14.5C153.5 14.5 153.4 20.2 148.6 20.2C143.8 20.2 143.7 14.5 138.9 14.5C134.1 14.5 134 20.2 129.2 20.2C124.4 20.2 124.2 14.5 119.3 14.5Z",fill:"white"}),j.jsx("path",{d:"M119.3 14.5V141.7C119.3 156.5 128.3 168.6 143.1 168.6H260C245.2 168.6 236.2 156.6 236.2 141.7V14.5H235.9C231 14.5 231 20.2 226.2 20.2C221.4 20.2 221.3 14.5 216.5 14.5C211.7 14.5 211.6 20.2 206.8 20.2C202 20.2 201.9 14.5 197.1 14.5C192.3 14.5 192.2 20.2 187.4 20.2C182.5 20.2 182.5 14.5 177.7 14.5C172.9 14.5 172.8 20.2 168 20.2C163.2 20.2 163.1 14.5 158.3 14.5C153.5 14.5 153.4 20.2 148.6 20.2C143.8 20.2 143.7 14.5 138.9 14.5C134.1 14.5 134 20.2 129.2 20.2C124.4 20.2 124.2 14.5 119.3 14.5Z",stroke:"#3A5564",strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{d:"M134.4 47.5H216.1M134.4 76.1H216.1M134.4 104.7H216.1M134.4 133.3H216.1",stroke:"#3A5564",strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{d:"M135.6 172.8C135.6 175 126.9 176.9 116.2 176.9C105.5 176.9 96.8 175.1 96.8 172.8V134C96.8 134 110.2 129.4 116.2 129.4C122.2 129.4 135.6 133.5 135.6 133.5V172.8Z",fill:"#D6EBF7",stroke:"#3A5564",strokeLinejoin:"round"}),j.jsx("path",{d:"M116.2 137.6C126.9 137.6 135.6 135.8 135.6 133.5C135.6 131.2 126.9 129.4 116.2 129.4C105.5 129.4 96.8 131.2 96.8 133.5C96.8 135.8 105.5 137.6 116.2 137.6ZM116.6 119.6C121.294 119.6 125.796 117.735 129.116 114.416C132.435 111.096 134.3 106.594 134.3 101.9C134.3 97.2056 132.435 92.7036 129.116 89.3842C125.796 86.0648 121.294 84.2 116.6 84.2C111.906 84.2 107.404 86.0648 104.084 89.3842C100.765 92.7036 98.9 97.2056 98.9 101.9C98.9 106.594 100.765 111.096 104.084 114.416C107.404 117.735 111.906 119.6 116.6 119.6Z",fill:"#D6EBF7",stroke:"#3A5564",strokeLinejoin:"round"}),j.jsx("path",{d:"M104.8 88.7H110.3V93.3H101.3",stroke:"#3A5564",strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{d:"M120.2 119.6C124.894 119.6 129.396 117.735 132.716 114.416C136.035 111.096 137.9 106.594 137.9 101.9C137.9 97.2056 136.035 92.7036 132.716 89.3842C129.396 86.0648 124.894 84.2 120.2 84.2C115.506 84.2 111.004 86.0648 107.684 89.3842C104.365 92.7036 102.5 97.2056 102.5 101.9C102.5 106.594 104.365 111.096 107.684 114.416C111.004 117.735 115.506 119.6 120.2 119.6Z",fill:"#D6EBF7",stroke:"#3A5564",strokeLinejoin:"round"}),j.jsx("path",{d:"M120.2 116.2C123.993 116.2 127.63 114.693 130.312 112.012C132.993 109.33 134.5 105.693 134.5 101.9C134.5 98.1075 132.993 94.4702 130.312 91.7885C127.63 89.1067 123.993 87.6001 120.2 87.6001C116.407 87.6001 112.77 89.1067 110.088 91.7885C107.407 94.4702 105.9 98.1075 105.9 101.9C105.9 105.693 107.407 109.33 110.088 112.012C112.77 114.693 116.407 116.2 120.2 116.2Z",fill:"#D6EBF7",stroke:"#3A5564",strokeLinejoin:"round"}),j.jsx("path",{d:"M127.7 136.8V176M132.6 135.7V174.8M135.6 138.5C135.6 140.7 126.9 142.6 116.2 142.6C105.5 142.6 96.8 140.8 96.8 138.5M135.6 143.5C135.6 145.7 126.9 147.6 116.2 147.6C105.5 147.6 96.8 145.8 96.8 143.5M135.6 148.5C135.6 150.7 126.9 152.6 116.2 152.6C105.5 152.6 96.8 150.8 96.8 148.5M135.6 153.5C135.6 155.7 126.9 157.6 116.2 157.6C105.5 157.6 96.8 155.8 96.8 153.5M135.6 158.5C135.6 160.7 126.9 162.6 116.2 162.6C105.5 162.6 96.8 160.8 96.8 158.5M135.6 163.5C135.6 165.7 126.9 167.6 116.2 167.6C105.5 167.6 96.8 165.8 96.8 163.5M135.6 168.5C135.6 170.7 126.9 172.6 116.2 172.6C105.5 172.6 96.8 170.8 96.8 168.5",stroke:"#3A5564",strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{d:"M112.9 182.3C112.9 184.5 104.2 186.4 93.5 186.4C82.8 186.4 74 184.6 74 182.3V167.9C74 167.9 87.4 163.3 93.4 163.3C99.4 163.3 112.8 167.4 112.8 167.4V182.3H112.9Z",fill:"#D6EBF7",stroke:"#3A5564",strokeLinejoin:"round"}),j.jsx("path",{d:"M93.4 171.4C104.1 171.4 112.8 169.6 112.8 167.3C112.8 165 104.1 163.2 93.4 163.2C82.7 163.2 74 165 74 167.3C74 169.6 82.7 171.4 93.4 171.4Z",fill:"#D6EBF7",stroke:"#3A5564",strokeLinejoin:"round"}),j.jsx("path",{d:"M105 170.6V185.5M109.8 169.5V184.3M112.9 172.3C112.9 174.5 104.2 176.4 93.5 176.4C82.8 176.4 74 174.6 74 172.3M112.9 177.3C112.9 179.5 104.2 181.4 93.5 181.4C82.8 181.4 74 179.6 74 177.3",stroke:"#3A5564",strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{d:"M196.2 68.8001C196.187 66.9185 196.548 65.053 197.261 63.312C197.975 61.5711 199.028 59.9894 200.359 58.6588C201.689 57.3283 203.271 56.2755 205.012 55.5615C206.753 54.8476 208.618 54.4868 210.5 54.5001H249.4C251.282 54.4868 253.147 54.8476 254.888 55.5615C256.629 56.2755 258.211 57.3283 259.541 58.6588C260.872 59.9894 261.925 61.5711 262.639 63.312C263.353 65.053 263.713 66.9185 263.7 68.8001V81.6001C263.7 84.0001 264.6 86.2001 266.2 88.0001L269.8 91.9001C270.2 92.4001 270.5 92.9001 270.6 93.5001C270.7 94.1001 270.6 94.7001 270.4 95.3001C270.2 95.9001 269.8 96.3001 269.2 96.7001C268.7 97.0001 268.1 97.2001 267.5 97.2001H210.6C208.718 97.2134 206.853 96.8526 205.112 96.1387C203.371 95.4247 201.789 94.3719 200.459 93.0414C199.128 91.7108 198.075 90.1291 197.361 88.3882C196.648 86.6472 196.287 84.7817 196.3 82.9001V68.8001H196.2Z",fill:"white"}),j.jsx("path",{d:"M196.2 68.8001C196.187 66.9185 196.548 65.053 197.261 63.312C197.975 61.5711 199.028 59.9894 200.359 58.6588C201.689 57.3283 203.271 56.2755 205.012 55.5615C206.753 54.8476 208.618 54.4868 210.5 54.5001H249.4C251.282 54.4868 253.147 54.8476 254.888 55.5615C256.629 56.2755 258.211 57.3283 259.541 58.6588C260.872 59.9894 261.925 61.5711 262.639 63.312C263.353 65.053 263.713 66.9185 263.7 68.8001V81.6001C263.7 84.0001 264.6 86.2001 266.2 88.0001L269.8 91.9001C270.2 92.4001 270.5 92.9001 270.6 93.5001C270.7 94.1001 270.6 94.7001 270.4 95.3001C270.2 95.9001 269.8 96.3001 269.2 96.7001C268.7 97.0001 268.1 97.2001 267.5 97.2001H210.6C208.718 97.2134 206.853 96.8526 205.112 96.1387C203.371 95.4247 201.789 94.3719 200.459 93.0414C199.128 91.7108 198.075 90.1291 197.361 88.3882C196.648 86.6472 196.287 84.7817 196.3 82.9001V68.8001H196.2Z",fill:"#3A5564",stroke:"#3A5564"}),j.jsx("path",{d:"M196.2 68.8C196.2 65 197.8 61.4 200.7 58.7C203.674 55.9764 207.567 54.4763 211.6 54.5H253.9C258 54.5 261.9 56 264.8 58.7C267.7 61.4 269.3 65 269.3 68.8V81.6C269.3 84 270.3 86.2 272 88L275.9 91.9C276.3 92.4 276.6 92.9 276.7 93.5C276.8 94.1 276.7 94.7 276.5 95.3C276.2 95.9 275.8 96.3 275.2 96.7C274.6 97 274 97.2 273.3 97.2H211.5C207.467 97.2238 203.574 95.7237 200.6 93C199.189 91.7216 198.061 90.1632 197.286 88.4242C196.511 86.6852 196.107 84.8038 196.1 82.9V68.8H196.2Z",stroke:"#3A5564",strokeWidth:2}),j.jsx("path",{d:"M215.2 55.2001L255.6 54.5001C257.482 54.4868 259.347 54.8476 261.088 55.5615C262.829 56.2755 264.411 57.3283 265.741 58.6588C267.072 59.9894 268.125 61.5711 268.839 63.312C269.553 65.053 269.913 66.9185 269.9 68.8001V81.2001C269.901 82.4762 270.174 83.7374 270.7 84.9001C271.187 86.088 271.939 87.1485 272.9 88.0001L276.8 91.7001C277.3 92.1001 277.6 92.7001 277.7 93.3001C277.8 93.9001 277.8 94.6001 277.5 95.1001C277.3 95.7001 276.9 96.2001 276.3 96.5001C275.8 96.9001 275.2 97.0001 274.5 97.0001H215.2C213.318 97.0134 211.453 96.6526 209.712 95.9387C207.971 95.2247 206.389 94.1719 205.059 92.8414C203.728 91.5108 202.675 89.9291 201.961 88.1882C201.248 86.4472 200.887 84.5817 200.9 82.7001V68.8001C201 67.9001 201.5 62.0001 206.2 58.2001C208.8 56.2001 212 55.2001 215.2 55.2001Z",fill:"white",stroke:"#3A5564",strokeLinejoin:"round"}),j.jsx("path",{d:"M227.5 81.3H240.9L241.4 81.1C241.6 81 241.6 80.8 241.6 80.6L241.4 80.1C241.261 79.9775 241.085 79.9068 240.9 79.9H227.7C227 79.9 226.5 79.5 226.4 78.7L226.2 77.2H240.8C242.3 77.2 243.1 76.3 243.3 74.8L244.2 68.7V68.3C244.2 67.8 243.9 67.5 243.3 67.5H224.7L224.4 65.7C224.3 65 224.1 64.7 223.2 64.7H219.1C218.8 64.7 218.5 65 218.5 65.4C218.5 65.8 218.8 66.1 219.1 66.1H223.1L225 79C225.3 80.4 226 81.3 227.5 81.3ZM242.7 68.9L241.8 74.8C241.7 75.6 241.3 76 240.6 76H226L224.9 68.9H242.7ZM228.6 86.7C229.1 86.7 229.5 86.5 229.8 86.2C230.1 85.9 230.3 85.4 230.3 85C230.3 84.5 230.1 84.1 229.8 83.8C229.5 83.5 229 83.3 228.6 83.3C228.1 83.3 227.7 83.5 227.4 83.8C227.1 84.1 226.9 84.6 226.9 85C226.9 85.5 227.1 85.9 227.4 86.2C227.7 86.5 228.2 86.7 228.6 86.7ZM239 86.7C239.5 86.7 239.9 86.5 240.2 86.2C240.5 85.9 240.7 85.4 240.7 85C240.7 84.5 240.5 84.1 240.2 83.8C239.9 83.5 239.4 83.3 239 83.3C238.5 83.3 238.1 83.5 237.8 83.8C237.5 84.1 237.3 84.6 237.3 85C237.3 85.5 237.5 85.9 237.8 86.2C238.1 86.5 238.5 86.7 239 86.7Z",fill:"#3A5564"}),j.jsx("path",{d:"M99.8 58.2999C99.8568 58.1468 99.9591 58.0148 100.093 57.9215C100.227 57.8283 100.387 57.7783 100.55 57.7783C100.713 57.7783 100.873 57.8283 101.007 57.9215C101.141 58.0148 101.243 58.1468 101.3 58.2999L102.3 62.7999C102.5 63.7999 103 64.6999 103.8 65.4999C104.5 66.1999 105.5 66.6999 106.5 66.9999L111 67.9999C111.8 68.1999 111.8 69.2999 111 69.4999L106.5 70.4999C105.5 70.6999 104.6 71.1999 103.8 71.9999C103.1 72.6999 102.6 73.6999 102.3 74.6999L101.3 79.1999C101.243 79.353 101.141 79.4851 101.007 79.5783C100.873 79.6716 100.713 79.7215 100.55 79.7215C100.387 79.7215 100.227 79.6716 100.093 79.5783C99.9591 79.4851 99.8568 79.353 99.8 79.1999L98.8 74.6999C98.6 73.6999 98.1 72.7999 97.3 71.9999C96.5336 71.2903 95.6074 70.7757 94.6 70.4999L90.1 69.4999C89.9469 69.4431 89.8148 69.3408 89.7216 69.2067C89.6283 69.0726 89.5784 68.9132 89.5784 68.7499C89.5784 68.5866 89.6283 68.4272 89.7216 68.2932C89.8148 68.1591 89.9469 68.0568 90.1 67.9999L94.6 66.9999C95.6 66.7999 96.5 66.2999 97.3 65.4999C98 64.7999 98.5 63.7999 98.8 62.7999L99.8 58.2999Z",fill:"#6B63E7"}),j.jsx("path",{d:"M92.8 82.3999C92.7 81.8999 92 81.8999 91.9 82.3999L91.4 84.5999C91.3 85.1999 91 85.7999 90.5 86.1999C90.1 86.5999 89.5 86.9999 88.9 87.0999L86.7 87.5999C86.2 87.6999 86.2 88.3999 86.7 88.4999L88.9 88.9999C89.5 89.0999 90.1 89.3999 90.5 89.8999C90.9 90.2999 91.3 90.8999 91.4 91.4999L91.9 93.6999C92 94.1999 92.7 94.1999 92.8 93.6999L93.3 91.4999C93.4 90.8999 93.7 90.2999 94.2 89.8999C94.6 89.4999 95.2 89.0999 95.8 88.9999L98 88.4999C98.5 88.3999 98.5 87.6999 98 87.5999L95.8 87.0999C95.2 86.9999 94.6 86.6999 94.2 86.1999C93.8 85.7999 93.4 85.1999 93.3 84.5999L92.8 82.3999Z",fill:"#3A5564"}),j.jsx("path",{d:"M84.4 114.1C87.3 112.4 90.9 111.7 94.1 112.7C97.3 113.7 99.9 116.7 100 120.1C100.1 123.2 97.3 126.8 94 126.7C93.3 126.7 92.6 126.3 92.4 125.7C92.2 125 92.6 124.2 93.3 123.8C96 122.2 99.9 124 101.9 126C104.7 128.8 102.9 133.4 102.9 133.4C102.9 133.4 104.3 124.4 115.4 126.2",stroke:"#3A5564",strokeLinecap:"round",strokeLinejoin:"round"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.OrderRequestEducationIcon=a}),98);
__d("WAWebOrderRequestDrawer.react",["fbt","WASmaxInBizSettingsEnums","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebCTWADataSharingModel","WAWebCellFrame.react","WAWebCommonQuantityControls.react","WAWebConfirmPopup.react","WAWebCurrencyUtils","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebFlex.react","WAWebModalManager","WAWebNoop","WAWebNux","WAWebOrderAddItem","WAWebOrderCatalogProductPrice","WAWebOrderDetailSectionContainer.react","WAWebOrderDetailsActionCategory","WAWebOrderDetailsActionsSmbWamEvent","WAWebOrderIcons","WAWebOrderItemGetters","WAWebOrderRequestDrawerOverflowMenu.react","WAWebOrderRequestEducationIcon","WAWebOrderSummaryDrawer","WAWebOrderTotalPrice","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebWDSText.react","WAWebWamEnumOrderDetailsCreationAction","react","stylex","useWAWebNux"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useCallback,n=b.useEffect,o=b.useState,p={orderItemsContainer:{flexShrink:"xs83m0k",overflowY:"x1odjw0f",$$css:!0},itemSummaryContainer:{rowGap:"x1r0jzty",columnGap:"x17zd0t2",$$css:!0},errorLabel:{textAlign:"x2b8uid",$$css:!0}};function q(a){var b=a.currency;a.details;var e=a.items,f=a.onItemQuantityChange,g=a.onPriceChange,h=a.priceMap;a=o({});var i=a[0],k=a[1],n=m(function(a){return(h==null?void 0:h[a.id])!=null||a.price?d("WAWebOrderCatalogProductPrice").PriceStage.EditableFilled:d("WAWebOrderCatalogProductPrice").PriceStage.EditableBlank},[h]),q=m(function(a,b){k(function(c){return babelHelpers["extends"]({},c,(c={},c[b.id]=a,c))})},[]),r=function(a){var e;return l.jsx("div",{className:"x78zum5 x6s0dn4",children:l.jsx(d("WAWebOrderCatalogProductPrice").CatalogProductPrice,{price:(e=h==null?void 0:h[a.id])!=null?e:a.price,priceStage:(e=i[a.id])!=null?e:n(a),currency:b,orderItem:a,onPriceChange:function(b){return g==null?void 0:g(b,a.id)},onPriceStageChange:function(b){q(b,a)},onEnter:c("WAWebNoop")})})};return l.jsx(d("WAWebFlex.react").FlexColumn,{align:"stretch",xstyle:p.orderItemsContainer,children:e.map(function(a,b){return l.jsx(c("WAWebCellFrame.react"),{testid:void 0,className:(j||(j=c("stylex")))(b>0&&d("WAWebUISpacing").uiPadding.top10),disabled:!0,image:l.jsx(d("WAWebOrderIcons").OrderItemIcon,{mediaData:a.thumbnailUrl?d("WAWebOrderItemGetters").getMediaData(a):null,useCustomIcon:a.isCustomItem}),primary:l.jsx("span",{className:"xzwifym xuxw1ft x6ikm8r x10wlt62 xlyipyv",title:a.name,children:a.name}),secondary:l.jsx(c("WAWebCommonQuantityControls.react"),{quantity:a.quantity,onAddOneClick:function(){return f==null?void 0:f(b,a.quantity+1)},onRemoveOneClick:function(){return f==null?void 0:f(b,a.quantity-1)}}),theme:"add-order-item",detail:r(a)},b)})})}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.currency,c=a.itemCount;a=a.subtotal;c=h._("__JHASH__CJ0RZvwikY___JHASH__",[h._plural(c,"count")]);b=h._("__JHASH__ik3asXR_Zas__JHASH__",[h._param("total-currency-amount",d("WAWebCurrencyUtils").formatAmount1000(b,a))]);return l.jsxs(d("WAWebFlex.react").FlexColumn,{align:"stretch",xstyle:[p.itemSummaryContainer,d("WAWebUISpacing").uiPadding.horiz16,d("WAWebUISpacing").uiPadding.bottom4],children:[l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"primary",size:"16",weight:"semibold",children:c}),l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"14",children:b})]})}r.displayName=r.name+" [from "+f.id+"]";var s=function(){return d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue()===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"]};function t(a){var b=a.onExit;a=h._("__JHASH__8XUhYNP4ZoZ__JHASH__");var c=h._("__JHASH__9jKnlFB6jPA__JHASH__"),e=h._("__JHASH__RI1IurGc8TX__JHASH__"),f=function(){d("WAWebModalManager").ModalManager.close(),b()};return l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okText:a,onOverlayClick:f,onOK:f,children:l.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",gap:8,children:[l.jsx(d("WAWebOrderRequestEducationIcon").OrderRequestEducationIcon,{width:360,height:200}),l.jsx(d("WAWebWDSText.react").WDSTextLarge,{children:c}),l.jsx(d("WAWebWDSText.react").WDSTextSmall,{children:e})]})})}t.displayName=t.name+" [from "+f.id+"]";function a(a){var b=a.additionalCharges,e=a.chat,f=a.currency,g=a.entryPoint,i=a.flatAmounts,j=a.onAddItem,k=a.onAdditionalCharges,m=a.onBack,u=a.onDeclineOrder,v=a.onItemQuantityChange,w=a.onPriceChange,x=a.onSubmit,y=a.orderItems,z=a.orderSubtotal,A=a.priceMap;a=o(s);var B=a[0],C=a[1];a=o(!1);var D=a[0],E=a[1];a=c("useWAWebNux")(d("WAWebNux").NUX.ORDER_REQUEST_EDUCATION);var F=a[0];a[1];var G=a[2];n(function(){var a=function(){var a=d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue()===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"];C(a)};d("WAWebCTWADataSharingModel").CTWADataSharingModel.subscribeForUpdates(a);return function(){d("WAWebCTWADataSharingModel").CTWADataSharingModel.unsubscribeFromUpdates(a)}},[]);a=y.every(function(a){var b;return Number.isInteger((b=a.price)!=null?b:A[a.id])});var H=y.length!==0;a=d("WAWebOrderSummaryDrawer").getErrorLabel(a,i.total,f,e);n(function(){F&&d("WAWebModalManager").ModalManager.open(l.jsx(t,{onExit:G}))},[F,G]);var I=JSON.stringify({order_eligible_to_send:H&&a==null});n(function(){if(D)return;E(!0);var a=d("WAWebUserPrefsMeUser").getMaybeMeUser();new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.VIEW_CREATE_ORDER,actionCategory:String(c("WAWebOrderDetailsActionCategory").ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(g),hasCatalog:a!=null&&d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(a)),extraAttributes:I}).commit()},[D,g,I]);return l.jsxs(c("WAWebDrawer.react"),{children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._("__JHASH__A0UnFdM94yT__JHASH__"),onBack:m,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,menu:u!=null?l.jsx(c("WAWebOrderRequestDrawerOverflowMenu.react"),{onDecline:u}):null}),l.jsxs(c("WAWebDrawerBody.react"),{children:[l.jsxs(c("WAWebDrawerSection.react"),{xstyle:[p.orderItemsContainer,d("WAWebUISpacing").uiPadding.top20,d("WAWebUISpacing").uiMargin.bottom0],theme:"refresh-padding-title",children:[!H&&l.jsx(d("WAWebOrderAddItem").AddOrderItem,{title:h._("__JHASH__SSsOJuYz6YE__JHASH__"),onClick:function(){return j==null?void 0:j()}}),H&&l.jsxs(c("WAWebOrderDetailSectionContainer.react"),{children:[l.jsx(r,{currency:f,itemCount:y.length,subtotal:z}),l.jsx(q,{currency:f,priceMap:A,items:y,onPriceChange:w,onItemQuantityChange:v}),l.jsx(d("WAWebOrderSummaryDrawer").OrderValues,{tax:i.tax,discount:i.discount,shipping:i.shipping,currency:f,subtotal:z,additionalCharges:b,canDisplayAdditionalCharges:H,canChangeAdditionalCharges:H,onAdditionalCharges:k})]}),d("WAWebOrderSummaryDrawer").getDataSharing(e,y.length,B,function(){return C(!B)})]}),l.jsxs(c("WAWebDrawerSection.react"),{xstyle:d("WAWebUISpacing").uiPadding.bottom20,children:[a!=null&&l.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{color:"danger",size:"16",xstyle:p.errorLabel,children:a}),l.jsx(d("WAWebOrderTotalPrice").OrderApplyChangesButton,{title:h._("__JHASH__l8ensIFQYOj__JHASH__"),onClick:function(){return d("WAWebOrderSummaryDrawer").maybeShowDialogOnSubmit({currency:f,amount:i.total/1e3,chat:e,smbOptOut:B,onSubmit:x})},disabled:!H||Boolean(a!=null),testid:void 0})]})]})]})}a.displayName=a.name+" [from "+f.id+"]";g.OrderRequestDrawer=a}),226);
__d("WAWebBizOrderCreationFlow.react",["$InternalEnum","WAWebBizEntryPoint","WAWebBizFrontendGatingUtils","WAWebBizGatingUtils","WAWebBizOrderGetFriendlyRandomIdAction","WAWebBizSendOrderAction","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebCatalogCollection","WAWebCurrencyUtils","WAWebDataSharingUpsellModel","WAWebDrawerManager","WAWebL10NCountryCodes","WAWebModalManager","WAWebMultiSelection","WAWebOrderAdditionalChargesFormDrawer","WAWebOrderCatalogFormDrawer","WAWebOrderCollection","WAWebOrderConfirmDiscardModal","WAWebOrderCustomItemFormDrawer","WAWebOrderDetailMath","WAWebOrderDetails","WAWebOrderDetailsCreationActionWamEventUtil","WAWebOrderEnterPriceToastMessage","WAWebOrderItemModel","WAWebOrderPaymentStatus","WAWebOrderRequestDrawer.react","WAWebOrderSummaryDrawer","WAWebOrdersExpansionCountries","WAWebUimUie.react","WAWebUserPrefsCustomPaymentMethods","WAWebUserPrefsMeUser","WAWebUserPrefsPaymentInfo","WAWebVelocityTransitionGroup","asyncToGeneratorRuntime","lodash","react","useLazyRef","useWAWebCallbackOnce","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h,i;e=i||d("react");var j=h||(h=c("react")),k=e.useEffect,l=e.useMemo,m=e.useState,n=b("$InternalEnum").Mirrored(["CATALOG_PRODUCTS_FORM","CUSTOM_ITEM_FORM","ORDER_SUMMARY","ORDER_REQUEST","ADDITIONAL_CHARGES_FORM"]),o=Array.from(n.members()),p=c("lodash").memoize(function(){return d("WAWebCurrencyUtils").currencyForCountryShortcode(d("WAWebL10NCountryCodes").getCountryShortcodeByPhone(d("WAWebUserPrefsMeUser").getMeUser().user))});function q(a,b,c){return!a?b.length>0:b.length!==a.products.length||b.some(function(b,d){var e;return b.id!==a.products[d].id||b.quantity!==a.products[d].quantity||((e=(e=b.price)!=null?e:c[b.id])!=null?e:null)!==a.products[d].price})}function r(a){if(!a)return[];var b={isCustomItem:!1,isQuantitySet:!0};a=a.products.map(function(a){return new(c("WAWebOrderItemModel"))(babelHelpers["extends"]({},b,a))});d("WAWebOrderEnterPriceToastMessage").notifyIfAnyProductMissesPrice(a,{});return a}function aa(){var a=[];d("WAWebBizFrontendGatingUtils").isOrderDetailsPaymentInstructionsSyncEnabled()&&d("WAWebUserPrefsPaymentInfo").isCPIInfoValid()&&a.push(d("WAWebOrderPaymentStatus").OrderAcceptedPaymentMethods.CPI);d("WAWebBizFrontendGatingUtils").isCustomPaymentMethodsSyncEnabled()&&d("WAWebUserPrefsCustomPaymentMethods").isPIXValid()&&a.push(d("WAWebOrderPaymentStatus").OrderAcceptedPaymentMethods.PIX);return a}e=j.forwardRef(a);function a(a,e){var f=a.chat,g=a.entryPoint,h=a.onBack,i=a.onCancel,s=a.onDeclineOrder,t=a.onSend,u=a.order,ba=c("useWAWebUnmountSignal")();a=(g===c("WAWebBizEntryPoint").FROM_CART||g===c("WAWebBizEntryPoint").ORDER_REQUEST_LIST)&&d("WAWebBizGatingUtils").isSellerOrderRevampEnabled();var v=a?n.ORDER_REQUEST:n.ORDER_SUMMARY;a=m(v);var w=a[0],x=a[1];a=m(null);var y=a[0],ca=a[1];a=m(!1);var da=a[0],ea=a[1];a=m(function(){return r(u)});var z=a[0],A=a[1];a=m({});var B=a[0],fa=a[1];a=m(null);var C=a[0],ga=a[1];a=c("useLazyRef")(function(){return new(c("WAWebMultiSelection"))([],function(a){return a.id.toString()})});var D=a.current,E=d("WAWebCatalogCollection").CatalogCollection.get(d("WAWebUserPrefsMeUser").getMeUser()),F=function(a,b){fa(function(c){return babelHelpers["extends"]({},c,(c={},c[b]=a,c))})},G=l(function(){return z.reduce(function(a,b){return a+((a=(a=B[b.id])!=null?a:b.price)!=null?a:0)*b.quantity},0)},[z,B]),H=d("WAWebOrderDetailMath").calculateFlatAmounts({orderSubtotal:G/d("WAWebOrderDetailMath").DEFAULT_OFFSET,discountType:(C==null?void 0:C.discountType)||"",discountText:(C==null?void 0:C.discountText)||"",taxType:(C==null?void 0:C.taxType)||"",taxText:(C==null?void 0:C.taxText)||"",shippingText:(C==null?void 0:C.shippingText)||""}),I=d("WAWebUserPrefsMeUser").getMaybeMeUser(),J=I!=null&&d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(I)),K=p(),ha=d("WAWebOrdersExpansionCountries").getOrdersExpansionAllowedCurrencies(f.contact.id.user),L=(a=(a=z.at(0))==null?void 0:a.currency)!=null?a:K,ia=aa(),M=function(){var a=z.some(function(a){return B[a.id]});g!=null&&d("WAWebOrderDetailsCreationActionWamEventUtil").createSendOrderDetailsWamEvent(f,g,z,H,J,a,ia,L).commit();a=(a=u)!=null?a:d("WAWebOrderCollection").OrderCollection.addOrder();a.products=z.map(function(a){var b;a.price=(b=B[a.id])!=null?b:a.price;a.currency=(b=a.currency)!=null?b:K;return a});a.currency=L;a.subtotal=G;a.triggerItemCollectionUpdate();void d("WAWebBizSendOrderAction").sendOrderDetailsMessageAsMerchant({order:a,chat:f,orderNote:"",offset:d("WAWebOrderDetailMath").DEFAULT_OFFSET,total:H.total,discount:H.discount,shipping:H.shipping,tax:H.tax});t==null?void 0:t();d("WAWebDrawerManager").DrawerManager.closeDrawerRight()},N=c("useWAWebCallbackOnce")(function(){h?h():(d("WAWebDrawerManager").DrawerManager.closeDrawerRight(),i==null?void 0:i())}),O=function(){q(u,z,B)?d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebOrderConfirmDiscardModal").ConfirmDiscardModal,{onOK:N})):N()},P=function(a){if(ba.aborted)return;a!==!0&&d("WAWebOrderEnterPriceToastMessage").notifyIfAnyProductMissesPrice(z,B);x(v)},Q=function(){x(n.CATALOG_PRODUCTS_FORM)},R=function(a,b){a=Number.isInteger(a)?a:null;ca(a);ea(b===!0);x(a==null||z[a].isCustomItem?n.CUSTOM_ITEM_FORM:n.CATALOG_PRODUCTS_FORM)},S=function(){x(n.ADDITIONAL_CHARGES_FORM)},T=function(a,b){var c=a.length,d=a.reduce(function(a,b,c){return a.set(b.id,c)},new Map());return b.toSorted(function(a,b){return((a=d.get(a.id))!=null?a:c)-((a=d.get(b.id))!=null?a:c)})},ja=function(a){return a.map(function(a){var b;return new(c("WAWebOrderItemModel"))({id:a.id,name:a.name,price:a.priceAmount1000,thumbnailUrl:(b=a.getPreviewImage())==null?void 0:b.mediaUrl,quantity:Number(D.getVal(a)),isCustomItem:!1,isQuantitySet:!0})})},ka=function(a,b,c){var d=E==null?void 0:E.productCollection.getProductModels(),e=new Set(b.map(function(a){a=a.id;return a})),f=new Set(d==null?void 0:d.map(function(a){a=a.id;return a}));return c.reduce(function(a,b){var c=e.has(b.id),d=f.has(b.id);return c||d?a:a.concat(b)},a)},U=function(a){a===void 0&&(a=!0),J&&A(function(b){var c=D.getSelected(),e=ja(c);e=ka(e,c,b);a&&d("WAWebOrderEnterPriceToastMessage").notifyIfAnyProductMissesPrice(e,B);return T(b,e)})},la=function(a){var b=a.name,e=a.priceAmount1000,f=a.quantity,g=a.isQuantitySet,h=a.currency,i=d("WAWebOrderDetails").getCustomItemIdPrefix()+"-"+c("WAWebBizOrderGetFriendlyRandomIdAction")();A(function(a){a=T(a,[].concat(a,[new(c("WAWebOrderItemModel"))({id:i,name:b,price:e,quantity:(a=f)!=null?a:1,isCustomItem:!0,isQuantitySet:g,currency:h})]));return a})},V=function(a){return D.getSelected().find(function(b){b=b.id;return b===a.id})},W=function(a,b){D.setVal(a,b)},X=function(a){if(!z[a].isCustomItem){var b=V(z[a]);b&&W(b,0)}A(function(b){return[].concat(b.slice(0,a),b.slice(a+1))})},ma=function(a,b){b?A(function(c){c=[].concat(c);c[a].quantity=b;c[a].isQuantitySet=!0;return c}):X(a)},Y=function(a,b){var c=z[a];if(c.isCustomItem)ma(a,b);else{c=V(z[a]);c&&W(c,b);U(!1)}},Z=function(){var a=z.some(function(a){return B[a.id]});g!=null&&d("WAWebOrderDetailsCreationActionWamEventUtil").createClickAddItemWamEvent(g,J,a).commit();J&&d("WAWebBizGatingUtils").orderDetailsFromCatalogEnabled()?Q():R()},na=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(E==null||I==null)return;var b=E.productCollection.getProductModels(),c,e=b.length,f=0;while((!c||!D.isSelected(c))&&f<e){var g;yield d("WAWebCatalogCollection").CatalogCollection.update(I);f=e;b=E.productCollection.getProductModels();c=(g=b)==null?void 0:g.find(function(b){return b.id===a.id});c&&W(c,a.quantity);e=b.length}});return function(b){return a.apply(this,arguments)}}(),oa=function(){if(!u)return[];var a=E==null?void 0:E.productCollection.getProductModels(),b=function(b){var c=a==null?void 0:a.find(function(a){return a.id===b.id});c?W(c,b.quantity):na(b)};for(var c of u.products)b(c)},pa=function(){U();P(!0);if(g){var a=z.some(function(a){return B[a.id]});d("WAWebOrderDetailsCreationActionWamEventUtil").createClickAddItemsWamEvent(g,J,a).commit()}};a=function(a){switch(a){case n.CATALOG_PRODUCTS_FORM:return j.jsx(d("WAWebOrderCatalogFormDrawer").OrderCatalogFormDrawer,{currency:K,productsSelection:D,orderItems:z,priceMap:B,onBack:P,onAddProducts:pa,onAddCustomItem:function(){R(null,!0)},onProductSelectionChange:W});case n.CUSTOM_ITEM_FORM:return j.jsx(d("WAWebOrderCustomItemFormDrawer").CustomItemFormDrawer,{currency:L,eligibleCurrencies:z.length===0&&D.getSelected().length===0?ha:[],onBack:da?Q:P,onSaveCustomItem:function(a){U(),la(a),P()},customItem:z[Number.isInteger(y)?Number(y):-1]});case n.ORDER_REQUEST:return j.jsx(d("WAWebOrderRequestDrawer.react").OrderRequestDrawer,{chat:f,currency:L,priceMap:B,orderItems:z,orderSubtotal:G,additionalCharges:C,flatAmounts:H,onPriceChange:F,onBack:O,onSubmit:M,onAdditionalCharges:S,onItemQuantityChange:Y,onAddItem:Z,onDeclineOrder:s,entryPoint:g});case n.ORDER_SUMMARY:return j.jsx(d("WAWebOrderSummaryDrawer").OrderSummaryDrawer,{chat:f,currency:L,priceMap:B,orderItems:z,orderSubtotal:G,additionalCharges:C,flatAmounts:H,onPriceChange:F,onBack:O,onSubmit:M,onAddItem:Z,onAdditionalCharges:S,onDeleteItem:X,onItemQuantityChange:Y,entryPoint:g,onDeclineOrder:s});case n.ADDITIONAL_CHARGES_FORM:return j.jsx(d("WAWebOrderAdditionalChargesFormDrawer").AdditionalChargesFormDrawer,{currency:L,additionalCharges:C,subtotal:G,onBack:P,onApply:function(a){ga(function(b){return babelHelpers["extends"]({},b,a)}),P()}})}};k(function(){oa();return function(){c("WAWebDataSharingUpsellModel").enableUpsell()}},[]);var $=o.indexOf(w);return!w?null:j.jsx(c("WAWebVelocityTransitionGroup"),{ref:e,children:j.jsx(d("WAWebUimUie.react").UIE,{displayName:"FlowDrawer"+$,escapable:!0,children:j.jsx("div",{children:a(w)})},$)})}a.displayName=a.name+" [from "+f.id+"]";a=e;g["default"]=a}),98);