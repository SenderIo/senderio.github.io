;/*FB_PKG_DELIM*/

__d("WAWebStatusPrivacySettingsModal.react",["WAWebModal.react","WAWebStatusPrivacySettingOptionsDrawer.react","WAWebUserPrefsStatusType","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");b=i.forwardRef(a);function a(a,b){var e=a.onClose,f=a.onSelectStatusPrivacyOption;a=a.statusPostingPrivacyConfig;return i.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Tower,ref:b,children:i.jsx(c("WAWebStatusPrivacySettingOptionsDrawer.react"),{statusPostingPrivacyConfig:a,onContactClick:function(){f(d("WAWebUserPrefsStatusType").StatusPrivacySettingType.Contact)},onDenyListClick:function(){f(d("WAWebUserPrefsStatusType").StatusPrivacySettingType.DenyList)},onAllowListClick:function(){f(d("WAWebUserPrefsStatusType").StatusPrivacySettingType.AllowList)},isModal:!0,onClose:e})})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("WAWebStatusSelectPrivacyContactsModal.react",["fbt","WALogger","WAWebContactCollection","WAWebModalManager","WAWebSelectModal.react","WAWebSelectModalFooter.react","WAWebStatusPrivacySettingAction","WAWebStatusSelectContactsModal.react","WAWebToast.react","WAWebToastManager","WAWebUserPrefsStatusType","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["error: ",""]);j=function(){return a};return a}var k=i||c("react");e=k.forwardRef(a);function a(a,e){var f=a.onBack,g=a.setStatusPostingPrivacyConfig,i=a.statusPostingPrivacyConfig,l=a.updatedSettings,m=(a=i==null?void 0:i.allowList)!=null?a:[],n=(a=i==null?void 0:i.denyList)!=null?a:[];i=l===d("WAWebUserPrefsStatusType").StatusPrivacySettingType.AllowList?m:n;var o=i.map(function(a){return d("WAWebContactCollection").ContactCollection.gadd(a)}),p=new Set(i.map(String)),q=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{a=a.map(function(a){return a.id});l===d("WAWebUserPrefsStatusType").StatusPrivacySettingType.AllowList?(yield c("WAWebStatusPrivacySettingAction").setStatusPrivacyAllowList(a),g({setting:d("WAWebUserPrefsStatusType").StatusPrivacySettingType.AllowList,allowList:a,denyList:n})):l===d("WAWebUserPrefsStatusType").StatusPrivacySettingType.DenyList&&(yield c("WAWebStatusPrivacySettingAction").setStatusPrivacyDenyList(a),g({setting:d("WAWebUserPrefsStatusType").StatusPrivacySettingType.DenyList,allowList:m,denyList:a}))}catch(a){d("WALogger").ERROR(j(),String(a.stack)).sendLogs("SelectStatusPrivacyContactsModal:failed to set privacy settings"),d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__p-NaXMQvbug__JHASH__")}))}});return function(b){return a.apply(this,arguments)}}();return k.jsx(d("WAWebSelectModal.react").SelectModal,{ref:e,title:l===d("WAWebUserPrefsStatusType").StatusPrivacySettingType.AllowList?h._("__JHASH__0Fh2S17hEdL__JHASH__"):h._("__JHASH__F8uttYd2iDf__JHASH__"),onBack:f,onConfirm:function(a){void q(a),d("WAWebModalManager").ModalManager.close()},getInitialItems:function(){return o},listType:d("WAWebSelectModal.react").ListType.ContactSelectModal,maxItems:d("WAWebStatusSelectContactsModal.react").MAX_CONTACTS,singleSelectionFooterType:d("WAWebSelectModalFooter.react").FooterType.CONFIRM,multipleSelectionFooterType:d("WAWebSelectModalFooter.react").FooterType.CONFIRM,useAllContacts:!0,filter:function(a){return a.id.isLid()?!1:p.has(a.id.toString())||d("WAWebContactCollection").ContactCollection.isFilteredContact(a)},getSelectionSummary:function(a){return l===d("WAWebUserPrefsStatusType").StatusPrivacySettingType.AllowList?h._("__JHASH__J4CTD0Y2Jop__JHASH__",[h._plural(a.length,"allow-contacts")]):h._("__JHASH__1F1fQrsg5VE__JHASH__",[h._plural(a.length,"allow-contacts")])},enableSelectAll:!0})}a.displayName=a.name+" [from "+f.id+"]";a=e;g["default"]=a}),226);
__d("WAWebStatusPrivacySettingsModalFlow.react",["$InternalEnum","WANullthrows","WAWebModalManager","WAWebStatusPrivacySettingUtils","WAWebStatusPrivacySettingsModal.react","WAWebStatusSelectPrivacyContactsModal.react","WAWebUserPrefsStatusType","react","useWAWebFlow"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState,l=b("$InternalEnum").Mirrored(["StatusPrivacySettingModal","StatusPrivacySettingContactsSelection"]);function a(a){var b=a.statusPostingPrivacyConfig,e=a.setStatusPostingPrivacyConfig,f=(a=b==null?void 0:b.allowList)!=null?a:[],g=(a=b==null?void 0:b.denyList)!=null?a:[];a=k(null);var h=a[0],i=a[1],m=function(){d("WAWebModalManager").ModalManager.close()};a=function(){p.pop("flow-transition-box-size-drawer-pop")};var n=d("useWAWebFlow").useFlow(l.StatusPrivacySettingModal,{transitions:d("useWAWebFlow").FlowTransitions.Modal,onEnd:m}),o=n[0],p=n[1];if(p.step==null)return null;var q;switch(p.step){case l.StatusPrivacySettingModal:q=j.jsx(c("WAWebStatusPrivacySettingsModal.react"),{onClose:m,onSelectStatusPrivacyOption:function(a){i(a),a===d("WAWebUserPrefsStatusType").StatusPrivacySettingType.Contact?(void d("WAWebStatusPrivacySettingUtils").handleContactClick(e,f,g),m()):p.push(l.StatusPrivacySettingContactsSelection,"flow-transition-box-size-drawer-push")},statusPostingPrivacyConfig:b});break;case l.StatusPrivacySettingContactsSelection:q=j.jsx(c("WAWebStatusSelectPrivacyContactsModal.react"),{updatedSettings:c("WANullthrows")(h),statusPostingPrivacyConfig:b,setStatusPostingPrivacyConfig:e,onBack:a})}return j.jsx(o,{flow:p,children:q})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);