;/*FB_PKG_DELIM*/

__d("WADevToolsBridge",["WADynamicRouterAsync"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WADynamicRouterAsync").DynamicRouter)();function a(){return h}g.getDevToolBridge=a}),98);
__d("WAWebChatInternalStatusHook",["WAAbortError","WAPromiseRaceAbort","WAWebNoop","WAWebTextStatusCollection","react","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState,l={brb:"BRB",pto:"PTO",sick:"SICK"},m=["status"].concat(Object.keys(l)),n="change:status";function a(a){var b=k(""),e=b[0],f=b[1],g=j(),h=c("useWAWebUnmountSignal")();i(function(){f("");if(!a.isUser()||a.isPSA())return;c("WAPromiseRaceAbort")(d("WAWebTextStatusCollection").TextStatusCollection.find(a),h).then(function(a){if(h.aborted)throw new(d("WAAbortError").AbortError)();f(a.status);var b=function(){return f(a.status)};a.on(n,b);g.current=function(){return a.off(n,b)}})["catch"](d("WAAbortError").catchAbort(c("WAWebNoop")));return function(){g.current==null?void 0:g.current()}},[a,h]);b=e==null?void 0:e.match(/@(\w*)\b/);b=b==null?void 0:b[1].toLowerCase();var o=m.includes(b);b=b!=null?l[b]:null;var p=Boolean(b);return{status:e,hasStatus:o,overlay:b,hasOverlay:p}}g["default"]=a}),98);
__d("WAWebChatInternalStatusWarning.react",["WAWebChatInternalStatusHookWrapper","WAWebExternalLink.react","WAWebInfoFilledIcon","WAWebInfoIcon","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUimUie.react","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={badge:{position:"x10l6tqk",end:"x1up323v",bottom:"x1ey2m1c",zIndex:"x42zw1d",boxSizing:"x9f619",width:"x1xp8n7a",height:"xmix8c7",pointerEvents:"x47corl",backgroundColor:"x1pl83jw",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},badgeIconSvg:{width:"x6jxa94",height:"x1v9usgg",color:"xt16idv",$$css:!0},statusBannerBorders:{borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"x1nfbk4f",borderBottomWidth:"xso031l",borderBottomStyle:"x1q0q8m5",borderBottomColor:"xa93pmm",borderStartWidth:"xy80clv",borderStartStyle:"x26u7qi",borderStartColor:"xgkeump",$$css:!0},statusBanner:{display:"x78zum5",alignItems:"x6s0dn4",fontSize:"x1nxh6w3",color:"xfect85",backgroundColor:"x1bmpntp",$$css:!0},internLabel:{display:"x78zum5",alignItems:"xuk3077",justifyContent:"x1qughib",width:"x1dmp6jm",background:"x1tw36xw",borderTopStartRadius:"x8u2fvd",borderTopEndRadius:"x1ht7hnu",borderBottomEndRadius:"x1quq95r",borderBottomStartRadius:"x5yzy4c",$$css:!0},refreshOuterContainer:{fontSize:"x1nxh6w3",color:"xhslqc4",backgroundColor:"xe7vic5",borderTopStartRadius:"xhw592a",borderTopEndRadius:"xwihvcr",boxShadow:"xz16w4b",transition:"x1m0b2ad",$$css:!0},refreshInnerContainer:{display:"x78zum5",alignItems:"x6s0dn4",width:"x14atkfc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",backgroundColor:"x1bmpntp",$$css:!0},internLabelRefresh:{display:"x78zum5",alignItems:"xuk3077",justifyContent:"x1qughib",flexShrink:"x2lah0s",$$css:!0}};function a(a){a=a.id;a=(a=c("WAWebChatInternalStatusHookWrapper")(a))!=null?a:{};var b=a.status;a=a.hasStatus;return a!==!0?null:j.jsx("div",{className:(i||(i=c("stylex")))(k.badge,d("WAWebUISpacing").uiPadding.all2),title:b,children:j.jsx(d("WAWebInfoIcon").InfoIcon,{iconXstyle:k.badgeIconSvg})})}a.displayName=a.name+" [from "+f.id+"]";var l=j.forwardRef(b);function b(a,b){var e=a.borders,f=a.id;a=a.renderImmediately;f=(f=c("WAWebChatInternalStatusHookWrapper")(f))!=null?f:{};var g=f.status;f=f.hasStatus;if(a!==!0&&f!==!0)return null;a=d("WAWebUIRefreshGatingUtils").composeBoxRefreshEnabled();f=a?[d("WAWebUISpacing").uiPadding.all5,k.refreshOuterContainer]:[e===!0&&k.statusBannerBorders,k.statusBanner,d("WAWebUISpacing").uiPadding.top5,d("WAWebUISpacing").uiPadding.horiz10,d("WAWebUISpacing").uiPadding.bottom4];return j.jsx(d("WAWebUimUie.react").UIE,{ref:b,displayName:"ComposeBoxInternalStatus",escapable:!1,children:j.jsx("div",{className:(i||(i=c("stylex")))(f),children:j.jsxs("div",{className:i(a&&[k.refreshInnerContainer,d("WAWebUISpacing").uiPadding.horiz5,d("WAWebUISpacing").uiPadding.vert10]),children:[j.jsx(d("WAWebExternalLink.react").ExternalLink,{href:"https://www.internalfb.com/intern/wiki/WhatsApp/Eng/Client/Web/Reference/Intern_Only_Away_Status/",xstyle:a?[k.internLabelRefresh,d("WAWebUISpacing").uiPadding.horiz5]:[k.internLabel,d("WAWebUISpacing").uiPadding.vert2,d("WAWebUISpacing").uiPadding.horiz5],children:j.jsxs("span",{children:[j.jsx(d("WAWebInfoFilledIcon").InfoFilledIcon,{displayInline:!0,style:{marginRight:"2px"}}),"intern only"]})}),j.jsx("span",{className:i(d("WAWebUISpacing").uiMargin.start5),children:g})]})})})}b.displayName=b.name+" [from "+f.id+"]";function e(a){a.borders;a=a.id;a=(a=c("WAWebChatInternalStatusHookWrapper")(a))!=null?a:{};var b=a.overlay;a=a.hasOverlay;return a!==!0?null:j.jsx("div",{className:"x10l6tqk x13vifvy x17qophe xbagc2z x14yjl9h xudhj91 x18nykt9 xww2gxu",children:j.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 50 50",children:j.jsx("text",{className:"x1lzn6yi xw6cgo0 x119sgi4",x:"50%",y:"50%",children:b})})})}e.displayName=e.name+" [from "+f.id+"]";b={InternalStatusWarningBadge:a,InternalStatusWarningComposeBox:l,InternalStatusWarningImageOverlay:e};g["default"]=b}),98);
__d("WAWebEstimateIndexeddbUsageApi",["Promise","WALogger","WANullthrows","WAPromiseReduce","WAStorageEstimator","WAWebDbUsageApiUtils","WAWebIndexedDB","WAWebScanDbRowApi","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["IndexedDB estimated snapshot:\n",""],["IndexedDB estimated snapshot:\\n",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["uploading logs with the reason: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["IndexedDB estimated snapshot:\n",""],["IndexedDB estimated snapshot:\\n",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["uploading logs with the reason: web cache has unknown items"]);l=function(){return a};return a}var m=1e6;function a(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(c("gkx")("26258"))return!1;var a=(yield d("WAStorageEstimator").estimateStorage());if(a.success===!1)return!1;a=a.value;var b=a.usage;a=a.quota;var e=!1,f=!1,g=null;b/a>=.8?(e=!0,f=!0,g="More than 80% of idb storage quota used"):b>=1500*m?(e=!0,f=!0,g="More than 1.5GB of idb storage used"):b>=1e3*m&&(e=!0,g="More than 1GB of idb storage used");if(e){a=(yield t({printTables:!1,sampleRate:.05}));b=a.stats;e=a.output;a=o(b.webCache,b.lruMediaStoreSize);a?(d("WALogger").LOG(l()).tags("idb-storage"),d("WALogger").LOG(k(),e).tags("idb-storage").sendLogs("idb_storage_web_cache")):(d("WALogger").LOG(j(),g).tags("idb-storage"),d("WALogger").LOG(i(),e).tags("idb-storage").sendLogs("idb_storage_exceeded"))}return!f});return n.apply(this,arguments)}function o(a,b){if(a==null)return!1;b=(b=b)!=null?b:0;if(b===0&&a>0)return!0;return b*1.1<=a?!0:!1}function p(a){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield a.keys());return d("WAPromiseReduce").promiseReduce(c,function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){c=(yield a.match(c));c=(yield c.arrayBuffer());return b+c.byteLength});return function(a,b){return c.apply(this,arguments)}}(),0)});return q.apply(this,arguments)}function r(){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!("caches"in self))return[];var a=(yield self.caches.keys());return(h||(h=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield self.caches.open(a));b=(yield p(b));return[a,b]});return function(b){return a.apply(this,arguments)}}()))});return s.apply(this,arguments)}function t(a){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a===void 0?{printTables:!0,sampleRate:.05}:a;var b=a.printTables,e=a.sampleRate,f=1e4;a=[];var g=c("WANullthrows")(c("WAWebIndexedDB")),h=(yield d("WAWebDbUsageApiUtils").getAllDatabases(g));for(var i of h){h=(yield d("WAWebDbUsageApiUtils").promisifyRequest(g.open(i.name)));if(h.objectStoreNames.length===0)continue;var j=h.transaction(h.objectStoreNames,"readonly"),k={name:i.name,size:0,stores:[]};h=function*(a){var b=j.objectStore(a),c=(yield d("WAWebDbUsageApiUtils").promisifyRequest(b.count()));if(c===0)return"continue";var g=d("WAWebScanDbRowApi").getSampleRateOverride(e,a,i.name);g=Math.min(Math.ceil(c*g),f);var h=g,l=0;yield d("WAWebDbUsageApiUtils").objectStoreIterator(b,function(b){if(d("WAWebScanDbRowApi").skipRow(b,a))return!0;l+=d("WAWebScanDbRowApi").estimateSize(b,a);h--;return h>0});b=Math.round(l*(c/(g-h)));k.stores.push({name:a,size:b,rowCount:c});k.size+=b};for(var l of j.objectStoreNames){var m=(yield* h(l));if(m==="continue")continue}k.stores.sort(function(a,b){return b.size-a.size});a.push(k)}a.sort(function(a,b){return b.size-a.size});b&&(console.table(a),a.forEach(function(a){var b=a.stores.map(function(b){return{db:a.name,store:b.name,size:b.size,rowCount:b.rowCount}});console.table(b)}));m=(yield d("WAStorageEstimator").estimateStorage());g=(l=(h=a.find(function(a){return a.name==="lru-media-storage-idb"}))==null?void 0:h.size)!=null?l:0;l=o((b=m.value)==null?void 0:(h=b.usageDetails)==null?void 0:h.caches,g);b=l?yield r():[];m={usage:(h=m.value)==null?void 0:h.usage,quota:(l=m.value)==null?void 0:l.quota,webCache:(h=m.value)==null?void 0:(l=h.usageDetails)==null?void 0:l.caches,lruMediaStoreSize:g,webCacheBreakdown:b,debugEstimations:a,sampleRate:e};h=v(m,a);return{output:h,stats:m}});return u.apply(this,arguments)}function v(a,b){var c=JSON.stringify(a,null,2),e=[],f="****************************";e.push(f);e.push("*******Storage Script*******");e.push(f);var g="Storage Api estimation: quota = "+d("WAWebDbUsageApiUtils").convertToMBToString(a.quota)+" MB, usage = "+d("WAWebDbUsageApiUtils").convertToMBToString(a.usage)+" MB";a.webCache!=null&&(g+=", webCache = "+d("WAWebDbUsageApiUtils").convertToMBToString(a.webCache)+" MB");if(a.webCacheBreakdown.length>0){var h=["---- WebCache Breakdown ----"];a.webCacheBreakdown.forEach(function(a){var b=a[0];a=a[1];h.push(b+": "+d("WAWebDbUsageApiUtils").convertToMBToString(a)+" MB")});g+="\n"+h.concat("----------------------------").join("\n")}e.push(g);e.push("DB sampleRate = "+a.sampleRate*100+"%, lru-media-store table is 100%");b.forEach(function(a){e.push("[storage] "+a.name+", size = "+d("WAWebDbUsageApiUtils").convertToMBToString(a.size)+" MB")});e.push(f);e.push("Detailed db scan result in bytes:");e.push(c);return e.join("\n")}g.shouldMonitorDbStorageUsage=a;g.getEstimatedIndexedDbUsage=t}),98);
__d("WAWebDbUsageEstimateIndexeddbUsageJob",["WAJobOrchestratorTypes","WAWebEstimateIndexeddbUsageApi","WAWebOrchestratorNonPersistedJob"],(function(a,b,c,d,e,f,g){function a(a,b){a===void 0&&(a=!0);b===void 0&&(b=.05);return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("getEstimatedIndexedDbUsage",function(a){return d("WAWebEstimateIndexeddbUsageApi").getEstimatedIndexedDbUsage(a)},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW}).waitUntilCompleted({printTables:a,sampleRate:b})}function b(){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("shouldMonitorDbStorageUsage",function(a){return d("WAWebEstimateIndexeddbUsageApi").shouldMonitorDbStorageUsage()},{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT}).waitUntilCompleted()}c={getEstimatedIndexedDbUsageJob:a,shouldMonitorDbStorageUsageJob:b};g["default"]=c}),98);
__d("WAWebDebugBot",["WALogger","WAWebBotTos","WAWebBotTosIds","WAWebSchemaBotProfile","WAWebTos","WAWebTosJob","WAWebUserPrefsBot","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Inject Biz Bot fields: ",""]);h=function(){return a};return a}var i={injectBizBotFields:!1};function a(){i.injectBizBotFields=!i.injectBizBotFields,d("WALogger").LOG(h(),i.injectBizBotFields?"enabled":"disabled")}function c(){d("WAWebTos").TosManager.resetState(d("WAWebBotTosIds").getBizBotTosId()),d("WAWebBotTos").setBizBotTosDismissalTime(null)}function e(){var a,b;(a=d("WAWebTos")).TosManager.resetState((b=d("WAWebBotTosIds")).getBotAgentTosId());a.TosManager.resetState(b.getBotInvokeTosId());a.TosManager.resetState(b.getBotShortcutTosId());a.TosManager.resetState(b.getUgcAiStudioTosId());a.TosManager.resetState(b.getUgcBotTosId())}function f(){var a=d("WAWebTos").TosManager.getState(d("WAWebBotTosIds").getBotAgentTosId()),b=d("WAWebTos").TosManager.getState(d("WAWebBotTosIds").getBotInvokeTosId()),c=d("WAWebTos").TosManager.getState(d("WAWebBotTosIds").getBotShortcutTosId());return{botAgentTosState:a,botInvokeTosState:b,botShortcutTosState:c}}function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a&&(yield d("WAWebSchemaBotProfile").getBotProfileTable().clear(),d("WAWebUserPrefsBot").setUgcBotListLastBhash(null)),d("WAWebUserPrefsBot").setBotListLastRequestedTimestamp(0),d("WAWebUserPrefsBot").setUgcBotListLastRequestedTimestamp(0),window.location.reload()});return k.apply(this,arguments)}a={toggleInjectBizBotProfileFields:a,resetBizBotTos:c,resetBotTos:e,getBotTosStates:f,queryTosState:d("WAWebTosJob").queryTosState,TosManager:d("WAWebTos").TosManager,fetchBotProfiles:j,debugBotConfigs:i};g["default"]=a}),98);
__d("WAWebProtobufsRoutingInfo.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalDefaults={taskId:-1,debug:!1,tcpBbr:!1,tcpKeepalive:!1};a.internalSpec={regionId:[1,(b=d("WAProtoConst")).FLAGS.REPEATED|b.TYPES.INT32],clusterId:[2,b.FLAGS.REPEATED|b.TYPES.INT32],taskId:[3,b.TYPES.INT32],debug:[4,b.TYPES.BOOL],tcpBbr:[5,b.TYPES.BOOL],tcpKeepalive:[6,b.TYPES.BOOL]};g.RoutingInfoSpec=a}),98);
__d("WAWebUserPrefsDebugKeys",[],(function(a,b,c,d,e,f){a=Object.freeze({DEBUG_ROUTING_TOKEN:"WADebugRoutingToken",DEBUG_SHOWN_MSGS:"WADebugShownMsgs",DEBUG_ENABLE_OFFLINE_MOCK:"WADebugEnableOfflineMock",DEBUG_OFFLINE_MOCK_TRAFFIC:"WADebugOfflineMockTraffic",DEBUG_READ_RECEIPT:"WADebugReadReceipt",DEBUG_DECRYPT_FAIL:"WADebugDecryptFail",DEBUG_DO_NOT_SEND_RETRY_RECEIPT:"WADebugDoNotSendRetryReceipt",DEBUG_PASSIVE_MODE:"WADebugPassiveMode",DEBUG_IGNORE_PARTICIPANT_ADD:"WADebugIgnoreParticipantAdd",IGNORE_NONDIRECT_GROUP_MSG:"WAIgnoreNondirectGroupMsg",MESSAGE_EDIT_RESTRICTION_ENABLED:"MESSAGE_EDIT_RESTRICTION_ENABLED",DEBUG_ONLY_DEFAULT_BOT_OVERIDE:"DEBUG_ONLY_DEFAULT_BOT_OVERIDE"});b=a;f["default"]=b}),66);
__d("WAWebUserPrefsMultiDeviceDebug",["WAWebUserPrefsDebugKeys","WAWebUserPrefsStore","WAWebWidFactory"],(function(a,b,c,d,e,f,g){function h(a){return typeof a==="string"?a:void 0}function i(a){return typeof a==="number"?a:void 0}function a(a){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_READ_RECEIPT,a)}function b(){return c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_READ_RECEIPT)}function e(a){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_PASSIVE_MODE,a)}function f(){return c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_PASSIVE_MODE)}function j(a){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_ENABLE_OFFLINE_MOCK,a)}function k(){return!!c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_ENABLE_OFFLINE_MOCK)}function l(a){return c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_OFFLINE_MOCK_TRAFFIC,a)}function m(){return c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_OFFLINE_MOCK_TRAFFIC)}function n(a){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_DECRYPT_FAIL,a)}function o(){return i(c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_DECRYPT_FAIL))}function p(a){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_DO_NOT_SEND_RETRY_RECEIPT,a)}function q(){return i(c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_DO_NOT_SEND_RETRY_RECEIPT))}function r(a){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_ROUTING_TOKEN,a)}function s(){return h(c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_ROUTING_TOKEN))}function t(a){if(a==null){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_ONLY_DEFAULT_BOT_OVERIDE,null);return}var b;a.endsWith("@bot")?b=a:b=a+"@c.us";if(!((a=d("WAWebWidFactory").createWid(b))==null?void 0:a.isBot()))return;c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_ONLY_DEFAULT_BOT_OVERIDE,b)}function u(){return h(c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_ONLY_DEFAULT_BOT_OVERIDE))}function v(a){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_IGNORE_PARTICIPANT_ADD,a)}function w(){return i(c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_IGNORE_PARTICIPANT_ADD))}g.setDebugReadReceipt=a;g.getDebugReadReceipt=b;g.setDebugPassiveMode=e;g.getDebugPassiveMode=f;g.setDebugEnableOfflineMock=j;g.getDebugEnableOfflineMock=k;g.setDebugOfflineMockTraffic=l;g.getDebugOfflineMockTraffic=m;g.setDebugDecryptFail=n;g.getDebugDecryptFail=o;g.setDebugDoNotSendRetryReceipt=p;g.getDebugDoNotSendRetryReceipt=q;g.setDebugRoutingTokenPref=r;g.getDebugRoutingTokenPref=s;g.setDebugDefaultBotOverride=t;g.getDebugDefaultBotOverride=u;g.setDebugIgnoreParticipantAdd=v;g.getDebugIgnoreParticipantAdd=w}),98);
__d("WAWebDebugRoutingToken",["WABase64","WAWebProtobufsRoutingInfo.pb","WAWebUserPrefsMultiDeviceDebug","encodeProtobuf","err","lodash"],(function(a,b,c,d,e,f,g){function a(a){a=m(a);d("WAWebUserPrefsMultiDeviceDebug").setDebugRoutingTokenPref(a)}var h=Object.freeze({chatd:0,cbiz:1,cdev:2,cexp:3}),i=Object.freeze({frc:2,atn:5,vll:8,cln:9,odn:11,nao:12,rva:13,cco:18});function j(a){var b=Object.keys(h).find(function(b){return b===a});if(b!=null)return h[b];throw c("err")("Not a valid cluster "+a)}function k(a){var b=Object.keys(i).find(function(b){return b===a});if(b!=null)return i[b];throw c("err")("Not a valid region "+a)}function l(a){var b=a.match(/^\s*(([a-z]+)([0-9]+)?\.)?(\w+)\s*$/);if(!b)throw c("err")("Invalid token: "+a);a=void 0;var d=void 0,e=b[2],f=b[3];b=b[4];e!=null?(d=j(e),a=k(b)):b in h?d=j(b):a=k(b);e=Number.parseInt(f,10);Number.isNaN(e)&&(e=void 0);return[a,d,e]}function m(a){var b=a.toLowerCase();if(!b||b.match(/^\s*default\s*$/))return"";b=c("lodash").unzip(a.split(",").map(l));a=b[0];b=b.slice(1);var e=b[0];b=b[1];var f={};e=c("lodash").uniq(e);if(e.length!==1)throw c("err")("Too many clusters: "+e.toString());else e[0]!=null&&(f.clusterId=[e[0]]);b=c("lodash").uniq(b);if(b.length!==1)throw c("err")("Too many tasks: "+b.toString());else b[0]!=null&&(f.taskId=b[0]);e=c("lodash").uniq(a);b=!1;var g=e.reduce(function(a,c){c===void 0?b=!0:a.push(c);return a},[]);if(a.length!==e.length)throw c("err")("Redundant regions: "+a.toString());else if(e.length>1&&b)throw c("err")("May not mix clusters with and without region: "+a.toString());else b||(f.regionId=g);e=d("encodeProtobuf").encodeProtobuf(d("WAWebProtobufsRoutingInfo.pb").RoutingInfoSpec,f);return d("WABase64").encodeB64UrlSafe(e.readByteArray())}b={setDebugRoutingToken:a};g["default"]=b}),98);
__d("WAWebDebugSmb",["WALogger","WAWebApiBusinessProfile","WAWebConnModel","WAWebLabelCollection","WAWebMobilePlatforms","WAWebQuickReplyCollection","WAWebSchemaLabel","WAWebSchemaQuickReply","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Business Profile query will be delayed by "," seconds"]);h=function(){return a};return a}function a(a,b,c,d,e){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){a={id:a,name:b,colorIndex:c,predefinedId:e};f!=null&&(a.orderIndex=f);yield d("WAWebSchemaLabel").getLabelTable().createOrReplace(a);d("WAWebLabelCollection").LabelCollection.add(babelHelpers["extends"]({},a),{merge:!0})});return i.apply(this,arguments)}a.doc="create label";function e(a,b,c,d,e){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){var g={id:a,shortcut:b,count:e,message:c,keywords:f};yield d("WAWebSchemaQuickReply").getQuickReplyTable().createOrReplace(g);d("WAWebQuickReplyCollection").QuickReplyCollection.add({id:a,shortcut:b,message:c,keywords:f,count:e},{merge:!0})});return j.apply(this,arguments)}e.doc="create quick reply";function f(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;a=new Map([[(a=d("WAWebMobilePlatforms")).PLATFORMS.SMBA,a.PLATFORMS.ANDROID],[a.PLATFORMS.SMBI,a.PLATFORMS.IPHONE],[a.PLATFORMS.IPHONE,a.PLATFORMS.SMBI],[a.PLATFORMS.ANDROID,a.PLATFORMS.SMBA]]);a=a.get(d("WAWebConnModel").Conn.platform);if(!a)throw c("err")("Unsupported platform: "+d("WAWebConnModel").Conn.platform);d("WAWebConnModel").Conn.platform=a;yield d("WAWebMobilePlatforms").setMobilePlatform(a);window.location.reload()});return k.apply(this,arguments)}f.doc="Toggle between SMB (smba/smbi) and mobile (Android/iOS) platforms";f.paramsToExecute=[];function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("WAWebWidFactory").createWidFromWidLike(a).toString();return{row:yield d("WAWebApiBusinessProfile").getBusinessProfileRow(a),record:yield d("WAWebApiBusinessProfile").getBusinessProfileRecord(a)}});return m.apply(this,arguments)}var n={delayBusinessProfileQuery:0,mockBusinessProfileQueryPayload:null,mockBusinessProfileId:null};function o(a){n.delayBusinessProfileQuery=a,d("WALogger").LOG(h(),a)}a={createOrReplaceLabel:a,createOrReplaceQuickReply:e,getBusinessProfileFromDBById:l,toggleSMB:f,delayBusinessProfileQuery:o,debugSmbConfigs:n};g["default"]=a}),98);
__d("WAWebE2ETestSetup",["WAWebAltDeviceLinkingApi","WAWebE2ETestPairingConstants","WAWebLocalStorage","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(){window.readWebQrCode=function(){function a(){var a=c("WAWebLocalStorage")==null?void 0:c("WAWebLocalStorage").getItem(d("WAWebE2ETestPairingConstants").FIRST_QRCODE_READ_DONE);if(a!=="true"){c("WAWebLocalStorage")==null?void 0:c("WAWebLocalStorage").setItem(d("WAWebE2ETestPairingConstants").FIRST_QRCODE_READ_DONE,"true");return"abc"}a=document.querySelector(".landing-main [data-ref]");a=a==null?void 0:(a=a.dataset)==null?void 0:a.ref;var b=c("WAWebLocalStorage")==null?void 0:c("WAWebLocalStorage").getItem(d("WAWebE2ETestPairingConstants").PAIRING_ATTEMPT_ONGOING_KEY);if(b==null){c("WAWebLocalStorage")==null?void 0:c("WAWebLocalStorage").setItem(d("WAWebE2ETestPairingConstants").PAIRING_ATTEMPT_ONGOING_KEY,a||"");return a}return b}return a}(),window.readLinkCode=function(){return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebAltDeviceLinkingApi").initializeAltDeviceLinking();a=(yield d("WAWebAltDeviceLinkingApi").startAltLinkingFlow(a,!1));return a});return function(b){return a.apply(this,arguments)}}()}()}g["default"]=a}),98);
__d("WAWebFormatInternMutator",["WAWebInternFormatMutator"],(function(a,b,c,d,e,f,g){function a(a){return[[c("WAWebInternFormatMutator"),{selectable:a}]]}g["default"]=a}),98);
__d("WAWebMsgHandleDebug",["WALogger","WAWebMsgProcessingDecryptionHandler"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[msg] Dropping with ",", remaining drop queue = ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[msg] Dropping with ",", drop queue is empty."]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[msg] Message drop queue = ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[msg] postponed until Debug.serializePostponedMessage is called"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[msg] postponed for "," seconds or until Debug.serializePostponedMessage is called"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[msg] serialize postponed node ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[msg] postpone initialization for ",""]);n=function(){return a};return a}var o=!1,p;function a(a,b){if(o!==!1){d("WALogger").LOG(n(),a);p=function(){d("WALogger").LOG(m(),a),void b(a),p=null};typeof o==="number"?(self.setTimeout(p,o*1e3),d("WALogger").LOG(l(),o)):d("WALogger").LOG(k());o=!1;return!0}return!1}function b(a){o=a==null?!0:a;return"ok"}b.doc="The next incoming message is postponed until:\na) passed argument in seconds expired\nb) Debug.serializePostponedMessage is called\n";function c(){if(p!=null){p();return"done"}return"no postponed messages"}c.doc="Serialize previously postponed message";var q=[];function r(a,b){for(var c=0;c<b;c++)q.push(a);d("WALogger").LOG(j(),q.join(", "))}function e(){if(q.length===0)return null;var a=q.shift();q.length===0?d("WALogger").LOG(i(),a):d("WALogger").LOG(h(),a,q.join(", "));return a}function f(a){a===void 0&&(a=1),r(d("WAWebMsgProcessingDecryptionHandler").DecryptionErrorType.SignalRetryable,a)}f.doc="Drop next N=1 incoming message with a signal decryption error";function s(a){a===void 0&&(a=1),r(d("WAWebMsgProcessingDecryptionHandler").DecryptionErrorType.SignalDuplicateMessage,a)}s.doc="Drop next N=1 incoming message with a signal duplicate message error";function t(a){a===void 0&&(a=1),r(d("WAWebMsgProcessingDecryptionHandler").DecryptionErrorType.InvalidProtobuf,a)}t.doc="Drop next N=1 incoming message with an invalid protobuf error";function u(a){a===void 0&&(a=1),r(d("WAWebMsgProcessingDecryptionHandler").DecryptionErrorType.DeviceSentMessage,a)}u.doc="Drop next N=1 incoming message with a device sent error";a={isNextMessagePostponed:a,postponeNextMessageSerialization:b,serializePostponedMessage:c,isNextMessageDropped:e,dropWithDecryptionError:f,dropWithDuplicateMessageError:s,dropWithInvalidProtobufError:t,dropWithDeviceSentError:u};g["default"]=a}),98);
__d("WAWebOrchestratorJobEventSampling",[],(function(a,b,c,d,e,f){a={sendMessage:10,createLidPnMappings:10,updateLidMetadata:10,getAllUserDisclosures:10,handleBusinessNotification:5,syncMyDeviceList:5,receiptBatcherRunActiveBatches:5,updateDraftMessageChat:5};b={JOB_EVENT_SAMPLING_RATE:a};f["default"]=b}),66);
__d("WAWebUserPrefsDebugMsgEdit",["WAWebUserPrefsDebugKeys","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){function a(){var a;return((a=c("WAWebUserPrefsStore").getUser(c("WAWebUserPrefsDebugKeys").MESSAGE_EDIT_RESTRICTION_ENABLED))!=null?a:"true")==="true"}function b(a){c("WAWebUserPrefsStore").setUser(c("WAWebUserPrefsDebugKeys").MESSAGE_EDIT_RESTRICTION_ENABLED,String(a))}g.messageEditRestrictionEnabled=a;g.setMessageEditRestriction=b}),98);