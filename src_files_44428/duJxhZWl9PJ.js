;/*FB_PKG_DELIM*/

__d("WAArrayDiff",[],(function(a,b,c,d,e,f){"use strict";var g=function(a,b){var c=a.length,d=b.length,e=Array(c+1).fill().map(function(){return Array(d+1).fill(0)});for(var f=1;f<c+1;f++)for(var g=1;g<d+1;g++)a[f-1]===b[g-1]?e[f][g]=e[f-1][g-1]+1:e[f][g]=Math.max(e[f-1][g],e[f][g-1]);return e},h=function(a,b,c){var d=b.length,e=c.length,f={sequence:[],indices1:[],indices2:[]};while(d!==0&&e!==0){var g=b[d-1]===c[e-1];if(g)f.sequence.unshift(b[d-1]),f.indices1.unshift(d-1),f.indices2.unshift(e-1),--d,--e;else{g=a[d][e-1];var h=a[d-1][e];g>h?--e:--d}}return f},i=function(a,b){var c=g(a,b);return h(c,a,b)},j=function(a,b){var c=0,d=0,e=a.length,f=b.length;while(c<e&&c<f&&a[c]===b[c])c++;while(d+c<e&&d+c<f&&a[e-1-d]===b[f-1-d])d++;return{commonHead:c,commonTail:d}};a=function(a,b){var c={moved:[],inserted:[],removed:[]},d=a.length,e=b.length,f=j(a,b),g=f.commonHead;f=f.commonTail;if(g+f===d){if(d===e)return c;for(var h=g;h<e-f;h++)c.inserted.push([b[h],h]);return c}if(g+f===e){for(h=g;h<d-f;h++)c.removed.push([a[h],h]);return c}var k=i(a.slice(g,d-f),b.slice(g,e-f));for(h=g;h<d-f;h++)k.indices1.indexOf(h-g)<0&&c.removed.push([a[h],h]);h=function(d){var e=k.indices2.indexOf(d-g);if(e<0){e=!1;c.removed.forEach(function(f,g,h){var i=f[0];f=f[1];if(a[f]===b[d]){c.moved.push([i,f,d]);h.splice(g,1);e=!0;return}});e||c.inserted.push([b[d],d])}};for(d=g;d<e-f;d++)h(d);return c};f.findArrayDiff=a}),66);
__d("WAWebBizAppealProductPopup.react",["fbt","WAFilteredCatch","WAQplTypes","WAWebBackendErrors","WAWebBizProductCatalogAction","WAWebConfirmPopup.react","WAWebConstantsDeprecated","WAWebExternalLink.react","WAWebModalManager","WAWebProductCatalogLogEvents","WAWebProductCollection","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebRichTextField.react","WAWebText_DONOTUSE.react","WAWebToast.react","WAWebToastManager","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState;function a(a){var b=a.product,e=a.sessionId;a=l(!1);var f=a[0],g=a[1];a=l(!1);var i=a[0],j=a[1];a=l("");var m=a[0],n=a[1],o=function(a){n(a)};a=function(){d("WAWebProductCatalogLogEvents").logAppealProductCatalogClick(e);g(!0);var a=!0;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_APPEAL);d("WAWebBizProductCatalogAction").appealProduct(b.id.toString(),m).then(function(){b.canAppeal=!1,b.reviewStatus=d("WAWebProductCollection").PRODUCT_REVIEW_STATUS.PENDING,d("WAWebProductCatalogLogEvents").logAppealProductCatalogSuccess(e),g(!1),j(!0),a=!1,d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_APPEAL,d("WAQplTypes").QuickLogActionType.SUCCESS)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(a){d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__t1B2UhVJfCA__JHASH__"),id:d("WAWebToast.react").genId("catalog_appeal_submission_failed")})),d("WAWebProductCatalogLogEvents").logAppealProductCatalogFailed(e,a.status),g(!1)}))["finally"](function(){a&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_APPEAL,d("WAQplTypes").QuickLogActionType.FAIL)})};var p=function(){d("WAWebModalManager").ModalManager.close()};if(i)return k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._("__JHASH__yn39gBBeGDR__JHASH__"),onOK:p,children:k.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{children:h._("__JHASH__frBnTmlLrV2__JHASH__")})});i=m.length<1||f;return k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._("__JHASH__yn39gBBeGDR__JHASH__"),onOK:a,onCancel:p,okDisabled:i,children:k.jsxs("form",{children:[k.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,placeholder:h._("__JHASH__Gj_PMCZhuLQ__JHASH__"),onChange:function(a){a=a.text;return o(a)},value:m,maxLength:1e3}),k.jsx(d("WAWebExternalLink.react").ExternalLink,{href:c("WAWebConstantsDeprecated").WA_COMMERCE_POLICY_URL,children:h._("__JHASH__1X8_VuO9HeO__JHASH__")})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebDragAndDropMask.react",["fbt","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){return j.jsx("div",{className:"x10l6tqk x1bkdxzg xh8yej3 x5yr21d x1cqt4j0",children:j.jsx("div",{className:"x9f619 x78zum5 x6s0dn4 xl56j7k x4t50tc x11fxgd9 x5th0yj x4n8cb0 x8zvzrc xcg35fi x17x31wj x18ccme9 x1wt2b0t xa309fb x1js952d xlya59e x157eodl xpvcztv x1q04ism xfypqa5 xiy8gr4 x14z9xrf xqhtz6t",children:h._("__JHASH__YvuX_e-PLiv__JHASH__")})},"container")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebFrontendCountriesUtils",["fbt","WAWebSyntheticCountryCode","fbs"],(function(a,b,c,d,e,f,g,h){var i={countrySeparator:{borderBottomWidth:"xqm4iv",borderBottomStyle:"x1q0q8m5",borderBottomColor:"x13mi150",$$css:!0}};function j(a,b){a=[].concat(a);a.unshift([String(d("WAWebSyntheticCountryCode").SyntheticCountryCode.NotApplicable),c("fbs")._("__JHASH__qCG342enwUu__JHASH__"),h._("__JHASH__kLPdnde05rO__JHASH__")].concat(b===!0?[i.countrySeparator]:[]));return a}function k(a,b,c){var d=a.findIndex(function(a){a=a[0];return a===b}),e=[].concat(a[d]),f=e[0];e=e[1];a=[].concat(a);a.splice(d,1);a.unshift([f,e,null].concat(c?[i.countrySeparator]:[]));return a}function a(a,b){b===void 0&&(b="");a=j(a,!0);return b===""?a:k(a,b)}g.styles=i;g.unshiftNotApplicableToListOfCountries=j;g.bubbleCountryOnListOfCountries=k;g.formatCountriesOfOrigin=a}),226);
__d("WAWebProductCatalogProductImagesEditPanel.react",["fbt","Promise","WAWebAttachMediaModel","WAWebBizGatingUtils","WAWebCameraIcon","WAWebEventFiles","WAWebFbtCommon","WAWebFlex.react","WAWebMedia","WAWebMediaOpaqueData","WAWebMediaTypes","WAWebMimeTypes","WAWebMsgType","WAWebProductCatalogProductThumb.react","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebToast.react","WAWebToastManager","WAWebUISpacing","WAWebUnstyledButton.react","WAWebVelocityTransitionGroup","WAWebXAltIcon","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k,l,m=l||d("react"),n=j||(j=c("react")),o=m.useImperativeHandle,p=m.useRef,q=m.useState,r={btnDelete:{position:"x10l6tqk",top:"x1pdr0v7",end:"x1esfoun",left:null,right:null,zIndex:"x11uqc5h",color:"x7o08j2",filter:"xjjae95",$$css:!0},btnAdd:{display:"x78zum5",flexDirection:"xdt5ytf",alignItems:"x6s0dn4",justifyContent:"xl56j7k",width:"x2pejg6",height:"x1vlo0dj",fontSize:"x1ncwhqj",fontWeight:"xk50ysn",lineHeight:"xo5v014",letterSpacing:"x1yrajzq",$$css:!0},btnAddContainer:{position:"x1n2onr6",display:"x1rg5ohu",width:"x2pejg6",height:"x1vlo0dj",color:"xqg7fiw",verticalAlign:"x16dsc37",backgroundColor:"x1oivid5",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",$$css:!0},btnAddText:{textAlign:"x2b8uid",$$css:!0},imageTile:{position:"x1n2onr6",display:"x1rg5ohu",width:"x2pejg6",height:"x1vlo0dj",":focus_boxShadow":"x1s2ixkd",$$css:!0},imageThumb:{width:"xh8yej3",pointerEvents:"x47corl",$$css:!0},dismissableMessage:{backgroundColor:"x150wa6m",position:"x1n2onr6",lineHeight:"x1u7k74",$$css:!0}},s=n.forwardRef(a);function a(a,b){var e=a.imageData,f=a.index,g=a.onDelete;a=a.removable;return n.jsxs("div",{ref:b,className:(k||(k=c("stylex")))(r.imageTile,d("WAWebUISpacing").uiMargin.end8,d("WAWebUISpacing").uiMargin.bottom10),children:[a&&n.jsx(c("WAWebUnstyledButton.react"),{xstyle:r.btnDelete,"aria-label":h._("__JHASH__YXe8jJ4PD5T__JHASH__",[h._param("imageNumber",f+1)]),testid:void 0,onClick:g,children:n.jsx(d("WAWebXAltIcon").XAltIcon,{width:30,height:30})}),n.jsx(d("WAWebProductCatalogProductThumb.react").ProductThumb,{mediaData:e.mediaData,xstyle:r.imageThumb})]})}a.displayName=a.name+" [from "+f.id+"]";function t(a){var b=a.handleFilePick;a=a.inputRef;return n.jsx("input",{ref:a,type:"file",accept:d("WAWebMimeTypes").IMAGE_MIMES,style:{display:"none"},onChange:b,multiple:!0})}t.displayName=t.name+" [from "+f.id+"]";function u(a){a=a.children;var b=q(!1),c=b[0],e=b[1];return c?null:n.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:[d("WAWebUISpacing").uiMargin.end10,d("WAWebUISpacing").uiPadding.all15,d("WAWebUISpacing").uiPadding.end30,r.dismissableMessage],children:[a,n.jsx("button",{"aria-label":h._("__JHASH__h5Yt-G6PLnj__JHASH__"),onClick:function(){e(!0)},className:"x10l6tqk xwa60dl x1esfoun xq22nx5 x1cb1t30 x11uqc5h x1wus5yt",children:n.jsx(d("WAWebXAltIcon").XAltIcon,{width:36,height:36})})]})}u.displayName=u.name+" [from "+f.id+"]";var v=n.forwardRef(e);function e(a,b){a=a.onAddFileClick;return n.jsx("div",{ref:b,className:(k||(k=c("stylex")))(r.btnAddContainer,d("WAWebUISpacing").uiMargin.end8,d("WAWebUISpacing").uiMargin.bottom10),children:n.jsxs(c("WAWebUnstyledButton.react"),{xstyle:r.btnAdd,"aria-label":h._("__JHASH__iPhy_N0vBTS__JHASH__"),onClick:a,testid:void 0,children:[n.jsx(d("WAWebCameraIcon").CameraIcon,{}),n.jsx("div",{className:k(r.btnAddText,d("WAWebUISpacing").uiMargin.top5),children:h._("__JHASH__5l-i13-SUXh__JHASH__")})]})})}e.displayName=e.name+" [from "+f.id+"]";function w(a){a=a.error;return n.jsx("div",{className:"xh8yej3 x1hshjfz x1sr8853",role:"alert",children:a})}w.displayName=w.name+" [from "+f.id+"]";m=n.forwardRef(x);function x(a,e){a=babelHelpers["extends"]({},a);var f=a.maxImageCount,g=a.onChange,j=a.error,l=a.product,m=p(null);a=q(function(){return l.productImageCollection.filter(function(a){return!a.old}).map(function(a){return{url:a.mediaUrl,mediaData:a.mediaData,videoUrl:a.videoUrl}})});var r=a[0],x=a[1];a=function(){if(m.current){var a=m.current;a.click()}};var y=function(a){if(r.filter(function(b){return b.mediaData.filehash===a.filehash}).length>0){d("WAWebToastManager").ToastManager.open(n.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__Z41v3Ub_jHw__JHASH__")}));return!1}return!0},z=function(a){void a.mediaPrep.waitForPrep().then(function(b){if(!y(b))return;b.mediaStage=d("WAWebMediaTypes").MediaDataStage.RESOLVED;b.renderableUrl=a.fullPreview;var e=b.mediaBlob;e&&!(e instanceof c("WAWebMediaOpaqueData"))&&void c("WAWebMediaOpaqueData").createFromData(e,e.type).then(function(a){b.mediaBlob=a});x(function(a){return[].concat(a,[{url:null,mediaData:b}])});g==null?void 0:g([].concat(r,[{url:null,mediaData:b}]))})},A=function(a){void d("WAWebEventFiles").getFiles(a,d("WAWebMimeTypes").IMAGE_MIMES).then(function(a){var e=f-r.length;a.length>e&&d("WAWebToastManager").ToastManager.open(n.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__52oYOzPHk3E__JHASH__"),duration:6e3,action:{actionText:c("WAWebFbtCommon")("GOT IT"),dismiss:!0,theme:"success"}}));a.slice(0,f-r.length).map(function(a){return{file:a,filename:a.name,mimetype:a.type,type:d("WAWebMsgType").MSG_TYPE.PRODUCT}}).map(function(a){var c=new(d("WAWebAttachMediaModel").AttachMedia)({file:(i||(i=b("Promise"))).resolve(a)});return(a=c.processPromise)==null?void 0:a.then(function(){z(c)})})}),a.target.value!=null&&a.target.value!==""&&(a.target.value="")},B=function(){var a=r.filter(function(a){return a.url==null&&a.videoUrl==null}).length;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,{"int":{ImagesCount:a}});d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,"images_upload_start");a=r.filter(function(a){return a.url==null&&a.videoUrl==null}).map(function(a){var b=a.mediaData,e=b.mediaBlob;b=b.filehash;return e instanceof c("WAWebMediaOpaqueData")?d("WAWebMedia").uploadProductImage(e,b).then(function(b){a.url=b}):null}).filter(Boolean);return(i||(i=b("Promise"))).all(a).then(function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,"images_upload_end");return r.filter(function(a){return a.videoUrl==null}).map(function(a){return a.url||""})})};o(e,function(){return{uploadImages:B,handleFilePick:A}});var C=function(a){var b=r.filter(function(b){return b!==a});x(b);g==null?void 0:g(b)};e=r.some(function(a){return a.videoUrl!=null});e=e&&d("WAWebBizGatingUtils").isCatalogVideoViewEnabled()?n.jsx(u,{children:h._("__JHASH__babo_knHhfI__JHASH__")}):null;return n.jsxs("div",{className:(k||(k=c("stylex")))(d("WAWebUISpacing").uiMargin.bottom14),children:[n.jsxs("div",{className:"x78zum5 x1a02dak",children:[n.jsxs(c("WAWebVelocityTransitionGroup"),{appear:!0,transitionName:"thumb-scale-flex",children:[r.filter(function(a){return a.mediaData}).map(function(a,b){return n.jsx(s,{index:b,imageData:a,onDelete:function(){return C(a)},removable:a.videoUrl==null},a.mediaData.filehash)}),r.length<f?n.jsx(v,{onAddFileClick:a}):null]}),n.jsx(t,{inputRef:m,handleFilePick:A})]}),e,n.jsx(w,{error:j})]})}x.displayName=x.name+" [from "+f.id+"]";a=m;g["default"]=a}),226);
__d("WAWebManageEditProductDrawer.react",["fbt","WAFilteredCatch","WANullthrows","WAQplTypes","WAWebBackendErrors","WAWebBizComplianceUtil","WAWebBizGatingUtils","WAWebBizProductCatalogBridge","WAWebButton.react","WAWebCatalogCollection","WAWebCheckBox.react","WAWebCmd","WAWebComplianceConstants","WAWebComplianceInfo.react","WAWebCountriesUtils","WAWebCurrencyUtils","WAWebDragAndDropMask.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerContext","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebFlex.react","WAWebFlexItem.react","WAWebFrontendCountriesUtils","WAWebL10NCountryCodes","WAWebManageActions","WAWebNoop","WAWebProductCatalogContext","WAWebProductCatalogLogEvents","WAWebProductCatalogProductImagesEditPanel.react","WAWebProductModel","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebRichTextField.react","WAWebSpinner.react","WAWebSyntheticCountryCode","WAWebText_DONOTUSE.react","WAWebToast.react","WAWebToastManager","WAWebUISpacing","WAWebURLUtils","WAWebUserPrefsMeUser","asyncToGeneratorRuntime","react","stylex","useWAWebListener","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j,k;e=k||d("react");var l=i||(i=c("react")),m=e.useContext,n=e.useEffect,o=e.useMemo,p=e.useRef,q=e.useState,r={productWrapper:{position:"x1n2onr6",width:"x1h08jmb",paddingTop:"x13crsa5",paddingEnd:"x4uap5",paddingBottom:"x1rxj1xn",paddingStart:"xkhd6sd",$$css:!0},isSending:{pointerEvents:"x47corl",opacity:"xbyyjgo",$$css:!0},deleteButtonContainer:{textAlign:"x2b8uid",$$css:!0},hiddenLabel:{position:"x1n2onr6",top:"xnfr1j",$$css:!0},hiddenDescr:{fontSize:"x1f6kntn",lineHeight:"x1fc57z9",color:"x9bq0rd",$$css:!0}};e=l.forwardRef(a);function a(a,e){var f=babelHelpers["extends"]({},a),g=f.catalog;a=f.onBack;var i=f.onCancel,k=f.newProduct,t=k===void 0?!1:k,u=f.onDelete,aa=f.onEditSuccess,v=f.onCreate,w=m(d("WAWebDrawerContext").DrawerContext),x=p(null),y=d("useWAWebModelValues").useModelValues(f.product,["id","additionalImageCdnUrl","name","priceAmount1000","salePriceAmount1000","description","productImageCollection","reviewStatus","url","imageCdnUrl","retailerId","currency","isHidden","complianceInfo","videos"]);k=function(a){return d("WAWebBizGatingUtils").hideUnsupportedCurrency()?d("WAWebCurrencyUtils").isSupportedCurrency(a):!0};var z=y.currency!=null?y.currency:d("WAWebCurrencyUtils").currencyForCountryShortcode(d("WAWebL10NCountryCodes").getCountryShortcodeByPhone(d("WAWebUserPrefsMeUser").getMeUser().user)),A=k(z),B=q(y.name||""),C=B[0],ba=B[1];B=q(A?y.priceAmount1000:null);var D=B[0],ca=B[1];B=q(A?y.salePriceAmount1000:null);var E=B[0],da=B[1];B=q(y.description||"");var F=B[0],ea=B[1];B=q(y.url||"");var G=B[0],H=B[1];B=q(y.retailerId||"");var I=B[0],fa=B[1];B=q(function(){if(y.priceAmount1000!=null&&z!=null&&A){var a=d("WAWebCurrencyUtils").formatAmount1000ToParts(z,y.priceAmount1000);return""+a.integer+a.decimal}return""});var J=B[0],ga=B[1];B=q(function(){if(y.salePriceAmount1000!=null&&z!=null&&A){var a=d("WAWebCurrencyUtils").formatAmount1000ToParts(z,y.salePriceAmount1000);return""+a.integer+a.decimal}return""});var K=B[0],ha=B[1],L=A?z:"";B=q(!1);var M=B[0],N=B[1];B=q("");var O=B[0],ia=B[1];B=q("");var ja=B[0],ka=B[1];B=q("");var la=B[0],ma=B[1];B=q("");var na=B[0],oa=B[1];B=q("");var pa=B[0],qa=B[1];B=q(!!y.imageCdnUrl);var ra=B[0],sa=B[1];B=q(!1);var P=B[0],ta=B[1];B=q(y.isHidden);var ua=B[0],va=B[1];B=q(!A);var wa=B[0],Q=B[1];B=q(!1);var xa=B[0],ya=B[1];B=q(void 0);var R=B[0],S=B[1];B=D==null;d("useWAWebListener").useListener(y,"change:isHidden",function(){va(y.isHidden)});var T="";K!==""&&!d("WAWebCurrencyUtils").validatePriceString(L,K,d("WAWebProductModel").MIN_PRICE,d("WAWebProductModel").MAX_PRICE)?T=h._("__JHASH__MynIvKmHym1__JHASH__"):D==null&&E!=null?T=h._("__JHASH__THz6295LA6g__JHASH__"):E!=null&&D!=null&&E>=D&&(T=h._("__JHASH__lkECBC0RjcR__JHASH__"));var za=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(t)ya(!0);else{yield d("WAWebCatalogCollection").CatalogCollection.findProduct({catalogWid:g.id,productId:y.id.toString(),shouldFetchComplianceFields:!0});var a=c("WANullthrows")(g).productCollection.get(y.id);a=(a==null?void 0:a.complianceInfo)||{};var b=a.countryCodeOrigin,e=a.importerName;a=a.importerAddress;var f=b===String(d("WAWebSyntheticCountryCode").SyntheticCountryCode.NotApplicable)?h._("__JHASH__qCG342enwUu__JHASH__").toString():b&&(yield d("WAWebCountriesUtils").getCountryName(b,d("WAWebCountriesUtils").COUNTRY_FILTER_TYPE.META_RECOGNIZED)),i=(a==null?void 0:a.countryCode)&&(yield d("WAWebCountriesUtils").getCountryName(a.countryCode,d("WAWebCountriesUtils").COUNTRY_FILTER_TYPE.META_RECOGNIZED));ya(!0);S({countryCodeOrigin:b,countryNameOrigin:f,countryCodeOriginError:"",importerName:e,importerNameError:"",importerAddress:{street1:a==null?void 0:a.street1,street1Error:"",street2:a==null?void 0:a.street2,postalCode:a==null?void 0:a.postalCode,city:a==null?void 0:a.city,cityError:"",region:a==null?void 0:a.region,countryCode:a==null?void 0:a.countryCode,countryName:i,countryCodeError:""}})}});return function(){return a.apply(this,arguments)}}();n(function(){d("WAWebBizGatingUtils").canSeeECommerceComplianceIndiaSoftEnforcement(g.id)&&za()},[]);var Aa=function(a){var b;(b=x.current)==null?void 0:b.handleFilePick(a)},Ba=function(a,b){ta(a)},Ca=function(a){var b="";a.length===0&&(b=h._("__JHASH__8T72twzwWfT__JHASH__"));qa(b);sa(a.length>0);Q(!0)},Da=function(a){a=a.text;if(a===I)return;fa(a);oa("");Q(!0)},Ea=function(a){a=a.text;if(a===G)return;var b="";a!==""&&!c("WAWebURLUtils").isValid(a)&&(b=h._("__JHASH__CFGhHtJn9UC__JHASH__"));H(a);ma(b);Q(!0)},Fa=function(a){a=a.text;if(a===F)return;ea(a);Q(!0)},Ga=function(a){a=a.text;if(a===C)return;ba(a);ia(a.trim()===""?h._("__JHASH__S8TBP-RRI3Z__JHASH__"):"");Q(!0)},U=function(){va(function(a){return!a})},V=function(a,b,c){if(R==null)return void 0;var d=R.importerAddress;return b===a?c:d[a]},W=function(){var a=R==null?void 0:R.countryCodeOrigin;return!!a&&![d("WAWebComplianceConstants").COMPLIANCE_INFO_CODES.INDIA,d("WAWebSyntheticCountryCode").SyntheticCountryCode.NotApplicable].includes(a)},Ha=function(){G!==""&&!c("WAWebURLUtils").isHttps(G)&&!c("WAWebURLUtils").isHttp(G)&&H("https://"+G)},Ia=function(a){a=a.text;var b=""+a;if(b===J)return;var c=d("WAWebCurrencyUtils").valueFromString(L,a),e="";a!==""&&!d("WAWebCurrencyUtils").validatePriceString(L,a,d("WAWebProductModel").MIN_PRICE,d("WAWebProductModel").MAX_PRICE)&&(e=h._("__JHASH__-HRj68jAAmA__JHASH__"));ca(a===""?null:c);ga(b);ka(e);Q(!0)},Ja=function(a){a=a.text;var b=d("WAWebCurrencyUtils").valueFromString(L,a);da(a===""?null:b);ha(""+a);Q(!0)},X=function(){return d("WAWebBizGatingUtils").canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney(g.id)},Ka=function(a,b){t?d("WAWebProductCatalogLogEvents").logAddProductFailed(d("WAWebProductCatalogContext").getProductCatalogContext(w)):d("WAWebProductCatalogLogEvents").logEditProductFailed(y,d("WAWebProductCatalogContext").getProductCatalogContext(w),a.statusCode);var c=h._("__JHASH__r4bduejKSgF__JHASH__");a.errors!=null&&(a.errors.filter(function(a){return a.reason==="duplicate"}).length>0?d("WAWebQplQuickPerformanceLoggerModule").QPL.markerDrop(b):d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(b,d("WAQplTypes").QuickLogActionType.FAIL),a.errors.map(function(a){a.name==="media"&&a.reason==="duplicate"&&qa(h._("__JHASH__Z41v3Ub_jHw__JHASH__")),(a.name==="retailer_id"||a.name==="retailer-id")&&a.reason==="duplicate"&&oa(h._("__JHASH__d2FIAZF6OTD__JHASH__")),d("WAWebBizGatingUtils").hideUnsupportedCurrency()&&a.name==="currency"&&a.reason==="invalid-data"&&(c=h._("__JHASH__fz37Sw2QLcT__JHASH__"))}));d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebToast.react").Toast,{msg:c,id:d("WAWebToast.react").genId("catalog_save_item_failed")}))},Y=function(){d("WAWebManageActions").handleProductDelete(g,y,d("WAWebProductCatalogContext").getProductCatalogContext(w),"Product").then(function(a){a&&(d("WAWebDrawerManager").DrawerManager.closeDrawerMid(),u==null?void 0:u(y))})},La=function(a){g.productCollection.add(a,{merge:!0}),t?d("WAWebProductCatalogLogEvents").logAddProductSuccess(d("WAWebProductCatalogContext").getProductCatalogContext(w)):d("WAWebProductCatalogLogEvents").logEditProductSuccess(y,d("WAWebProductCatalogContext").getProductCatalogContext(w)),d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__Aq8Znt7P4WF__JHASH__"),id:d("WAWebToast.react").genId("catalog_item_saved")})),aa(a),t!=null&&(v==null?void 0:v())},Ma=function(){return new(d("WAWebProductModel").Product)({id:y.id,priceAmount1000:D,salePriceAmount1000:D!=null?E:null,currency:L,description:F||"",imageCdnUrl:y.imageCdnUrl,additionalImageCdnUrl:y.additionalImageCdnUrl,videos:y.videos,name:C,retailerId:I,url:G,isHidden:ua,complianceInfo:d("WAWebBizGatingUtils").canSeeECommerceComplianceIndiaSoftEnforcement(g.id)?{countryCodeOrigin:R==null?void 0:R.countryCodeOrigin,importerName:R==null?void 0:R.importerName,importerAddress:{street1:R==null?void 0:R.importerAddress.street1,street2:R==null?void 0:R.importerAddress.street2,postalCode:R==null?void 0:R.importerAddress.postalCode,city:R==null?void 0:R.importerAddress.city,region:R==null?void 0:R.importerAddress.region,countryCode:R==null?void 0:R.importerAddress.countryCode}}:void 0})},Na=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=V("street1",a,b),e=V("street2",a,b),f=V("postalCode",a,b),g=V("city",a,b),i=V("region",a,b),j=V("countryCode",a,b);e=[c,e,f,g,i,j].some(function(a){return a})||X();f=babelHelpers["extends"]({},R,{importerAddress:babelHelpers["extends"]({},R==null?void 0:R.importerAddress)});if(a==="countryCode"){i=(yield d("WAWebCountriesUtils").getCountryName(b,d("WAWebCountriesUtils").COUNTRY_FILTER_TYPE.META_RECOGNIZED));i==null||i===""?delete f.importerAddress.countryName:f.importerAddress.countryName=i}b==null||b===""?delete f.importerAddress[a]:f.importerAddress[a]=b;f.importerAddress.street1Error=e&&!d("WAWebBizComplianceUtil").existsFieldIgnoreHardEnforcement(c)?h._("__JHASH__xwjWQ2QHEu9__JHASH__"):"";f.importerAddress.cityError=e&&!d("WAWebBizComplianceUtil").existsFieldIgnoreHardEnforcement(g)?h._("__JHASH__hrtFjBzwNiI__JHASH__"):"";f.importerAddress.countryCodeError=e&&!d("WAWebBizComplianceUtil").existsFieldIgnoreHardEnforcement(j)?h._("__JHASH__-A-5Oh-VFyx__JHASH__"):"";Q(!0);S(f)});return function(b,c){return a.apply(this,arguments)}}(),Oa=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c,e=babelHelpers["extends"]({},R,{importerAddress:babelHelpers["extends"]({},R==null?void 0:R.importerAddress)});a==="countryCodeOrigin"&&(c=b===String(d("WAWebSyntheticCountryCode").SyntheticCountryCode.NotApplicable)?h._("__JHASH__qCG342enwUu__JHASH__").toString():yield d("WAWebCountriesUtils").getCountryName(b,d("WAWebCountriesUtils").COUNTRY_FILTER_TYPE.META_RECOGNIZED),e.countryNameOrigin=c,e.countryCodeOriginError="");a==="importerName"&&(e.importerNameError=d("WAWebBizComplianceUtil").existsField(b,d("WAWebUserPrefsMeUser").getMeUser())||!X()?"":h._("__JHASH__h3xt4dOfOu8__JHASH__"));b==null||b===""?delete e[a]:e[a]=b;Q(!0);S(e)});return function(b,c){return a.apply(this,arguments)}}(),Pa=function(){var a=d("WAWebUserPrefsMeUser").getMeUser();if(!X()||!xa)return!1;var b=babelHelpers["extends"]({},R,{importerAddress:babelHelpers["extends"]({},R==null?void 0:R.importerAddress)});if(!d("WAWebBizComplianceUtil").existsField(b.countryCodeOrigin,a)){b.countryCodeOriginError=h._("__JHASH__oOod9GZ6WDI__JHASH__");S(b);return!0}if(!W())return!1;var c=b.importerName,e=b.importerAddress,f=e.street1,g=e.city;e=e.countryCode;var i=!1;d("WAWebBizComplianceUtil").existsField(c,a)||(b.importerNameError=h._("__JHASH__h3xt4dOfOu8__JHASH__"),i=!0);d("WAWebBizComplianceUtil").existsFieldIgnoreHardEnforcement(f)||(b.importerAddress.street1Error=h._("__JHASH__xwjWQ2QHEu9__JHASH__"),i=!0);d("WAWebBizComplianceUtil").existsFieldIgnoreHardEnforcement(g)||(b.importerAddress.cityError=h._("__JHASH__hrtFjBzwNiI__JHASH__"),i=!0);d("WAWebBizComplianceUtil").existsFieldIgnoreHardEnforcement(e)||(b.importerAddress.countryCodeError=h._("__JHASH__-A-5Oh-VFyx__JHASH__"),i=!0);if(i){S(b);return!0}return!1},Z=function(){var a=!0,b=Ma();if(Pa())return;t?d("WAWebProductCatalogLogEvents").logAddProductClick(d("WAWebProductCatalogContext").getProductCatalogContext(w)):d("WAWebProductCatalogLogEvents").logEditProductClick(y,d("WAWebProductCatalogContext").getProductCatalogContext(w));N(!0);if(!t&&!wa)d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,{annotations:{string:{EntryPoint:"Product"}}}),d("WAWebBizProductCatalogBridge").productVisibilitySet(y.id.toString(),b.isHidden).then(function(){f.product.setIsHidden(b.isHidden),La(y),a=!1,d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,d("WAQplTypes").QuickLogActionType.SUCCESS)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").CatalogEditServerError,function(b){a=!1,Ka(b,d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE)}))["finally"](function(){a&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE,d("WAQplTypes").QuickLogActionType.FAIL),N(!1)});else{var c;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,{annotations:{bool:{IsNewProduct:!!t}}});(c=x.current)==null?void 0:c.uploadImages().then(function(c){b.imageCdnUrl=c[0];b.additionalImageCdnUrl=c.slice(1);c=t?g.addProduct(b):g.editProduct(b);c.then(function(b){La(b),a=!1,d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,d("WAQplTypes").QuickLogActionType.SUCCESS)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").CatalogEditServerError,function(b){a=!1,Ka(b,d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE)}))["finally"](function(){a&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,d("WAQplTypes").QuickLogActionType.FAIL),N(!1)})})["catch"](function(a){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE,d("WAQplTypes").QuickLogActionType.FAIL);N(!1);throw a})}},$=function(){if(C.trim()===""||ra===!1)return!1;var a=[O,ja,T,la,na,pa];W()&&a.push(R==null?void 0:R.importerNameError,R==null?void 0:R.importerAddress.street1Error,R==null?void 0:R.importerAddress.cityError,R==null?void 0:R.importerAddress.countryCodeError);X()&&a.push(R==null?void 0:R.countryCodeOriginError);return a.every(function(a){return!a})};Z=l.jsx(c("WAWebButton.react"),{type:"primary",onClick:Z,disabled:!$(),testid:void 0,children:t?h._("__JHASH__bCKhOdUsgak__JHASH__"):h._("__JHASH__MH9a8EVyHOr__JHASH__")});$=t?h._("__JHASH__hzfE9_dCBCC__JHASH__"):h._("__JHASH__6Q4QSojbbA___JHASH__");Z=l.jsxs("div",{className:"x78zum5 x6s0dn4",children:[l.jsx(d("WAWebText_DONOTUSE.react").TextHeader,{level:"2",weight:"normal",size:"inherit",children:$}),l.jsx("div",{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiMargin.startAuto),children:Z})]});Y=t?null:l.jsx("div",{className:(j||(j=c("stylex")))([r.deleteButtonContainer,d("WAWebUISpacing").uiMargin.vert20]),children:l.jsx(c("WAWebButton.react"),{type:"warning",onClick:Y,testid:void 0,children:h._("__JHASH__4CjDtUUAoYI__JHASH__")})});var Qa=j(r.productWrapper,d("WAWebUISpacing").uiMargin.horizAuto,d("WAWebUISpacing").uiMargin.vert0,M&&r.isSending);P=P?l.jsx(c("WAWebDragAndDropMask.react"),{}):null;M=M?l.jsx("div",{className:"x10l6tqk xh0rhid xtzzx4i xyw6214 x11lhmoz",children:l.jsx(d("WAWebSpinner.react").Spinner,{size:50,stroke:3})}):null;U=l.jsxs("div",{className:j(d("WAWebUISpacing").uiMargin.top10),children:[l.jsx(d("WAWebCheckBox.react").CheckBox,{id:"product-hidden-check",onChange:U,checked:ua,disabled:!1}),l.jsx("label",{className:j([r.hiddenLabel,d("WAWebUISpacing").uiMargin.start10]),htmlFor:"product-hidden-check",children:h._("__JHASH__8jBPLSFORJk__JHASH__")}),l.jsx("div",{className:j([r.hiddenDescr,d("WAWebUISpacing").uiMargin.top5,d("WAWebUISpacing").uiMargin.bottom30,d("WAWebUISpacing").uiMargin.start28]),children:h._("__JHASH__Vy-IZsqoMD___JHASH__")})]});var Ra=o(function(){var a=L!==""?d("WAWebCurrencyUtils").formatAmount1000ToParts(L,0).symbol:"";return h._("__JHASH__2JS7zjhIPUq__JHASH__",[h._param("currencySymbol",a)])},[L]),Sa=o(function(){var a=L!==""?d("WAWebCurrencyUtils").formatAmount1000ToParts(L,0).symbol:"";return h._("__JHASH__tlKXFhWo9dR__JHASH__",[h._param("currencySymbol",a)])},[L]);return l.jsxs(c("WAWebDrawer.react"),{ref:e,theme:"catalog",onDrop:Aa,onDragChange:Ba,children:[P,l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{testid:void 0,title:Z,titleStr:$,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:a,onCancel:i,focusBackOrCancel:!0}),l.jsx(c("WAWebDrawerBody.react"),{children:l.jsxs("div",{className:Qa,children:[M,l.jsx(c("WAWebProductCatalogProductImagesEditPanel.react"),{product:y,maxImageCount:d("WAWebProductModel").MAX_PRODUCT_IMAGES,onChange:Ca,ref:x,error:pa}),l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:C,placeholder:h._("__JHASH__l60HPo0sLoe__JHASH__"),onChange:Ga,theme:"small",showRemaining:!0,customStyleThemes:["desaturated"],maxLength:150,error:O,title:h._("__JHASH__L3gLk_6Dm3a__JHASH__")}),k(L)&&l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:J,placeholder:Ra,onChange:Ia,theme:"small",maxLength:30,customStyleThemes:["desaturated"],error:ja,title:h._("__JHASH__A7Tpu2BB7yM__JHASH__")}),k(L)&&d("WAWebBizGatingUtils").isCatalogProductSalePriceEnabled()&&l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,readOnly:B,value:K,placeholder:Sa,onChange:Ja,theme:"small",maxLength:30,customStyleThemes:B?["desaturated","disabledLabel"]:["desaturated"],error:T,title:h._("__JHASH__fSqDcL8Pj21__JHASH__")}),l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:F,placeholder:h._("__JHASH__9LVWEFTsXoE__JHASH__"),onChange:Fa,theme:"small",maxLength:5e3,customStyleThemes:["desaturated"],multiline:!0,title:h._("__JHASH__kNrGXmqF4Pc__JHASH__")}),l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:G,placeholder:h._("__JHASH__KnGY8ac91G___JHASH__"),onChange:Ea,onBlur:Ha,theme:"small",customStyleThemes:["desaturated"],maxLength:75,error:la,managed:!0,title:h._("__JHASH__7wFk5QjUBMi__JHASH__")}),l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:I,placeholder:h._("__JHASH__rej5vYS1Taa__JHASH__"),onChange:Da,theme:"small",customStyleThemes:["desaturated"],maxLength:100,error:na,title:h._("__JHASH__AlU-mINmShd__JHASH__")}),d("WAWebBizGatingUtils").canSeeECommerceComplianceIndiaSoftEnforcement(g.id)?l.jsx(s,{isComplianceHardEnforced:X(),isComplianceInfoAvailable:xa,showComplianceInfoImporterAddress:W(),complianceInfo:R,onComplianceInfoChange:Oa,onComplianceInfoImporterAddressChange:Na}):null,U,Y]})})]},"catalog-link-drawer")}a.displayName=a.name+" [from "+f.id+"]";function s(a){var e=a.complianceInfo;a.isComplianceHardEnforced;var f=a.isComplianceInfoAvailable,g=a.onComplianceInfoChange,i=a.onComplianceInfoImporterAddressChange;a=a.showComplianceInfoImporterAddress;var j=q([]),k=j[0],m=j[1],p=o(function(){var a=d("WAWebUserPrefsMeUser").getMeUser();return k.length>0&&d("WAWebBizGatingUtils").canSeeECommerceComplianceIndiaCountryOriginExemptBusinessJourney(a)?d("WAWebFrontendCountriesUtils").bubbleCountryOnListOfCountries(k,d("WAWebComplianceConstants").COMPLIANCE_INFO_CODES.INDIA,!0):k},[k]),r=o(function(){var a=d("WAWebUserPrefsMeUser").getMeUser();if(k.length>0&&d("WAWebBizGatingUtils").canSeeECommerceComplianceIndiaCountryOriginExemptBusinessJourney(a)){a=d("WAWebComplianceConstants").COMPLIANCE_INFO_CODES.INDIA;typeof (e==null?void 0:e.countryCodeOrigin)==="string"&&e.countryCodeOrigin!==""&&(a=e.countryCodeOrigin);return d("WAWebFrontendCountriesUtils").formatCountriesOfOrigin(k,a)}return k},[k,e==null?void 0:e.countryCodeOrigin]),s=function(a){return a.toString()+" ("+h._("__JHASH__Mv1rw2WBbnU__JHASH__").toString()+")"};j=function(a){var b=!e||Object.values(e.importerAddress).every(function(a){return!a});return b?s(a):a};n(function(){var a=!0;b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=d("WAWebUserPrefsMeUser").getMeUser();if(d("WAWebBizGatingUtils").canSeeECommerceComplianceIndiaSoftEnforcement(b)){b=(yield d("WAWebCountriesUtils").getCountries({filter:d("WAWebCountriesUtils").COUNTRY_FILTER_TYPE.META_RECOGNIZED}));a&&m(b)}})();return function(){a=!1}},[]);return!f||!k.length?l.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",children:l.jsx(c("WAWebFlexItem.react"),{children:l.jsx(d("WAWebSpinner.react").Spinner,{})})}):l.jsxs("div",{"data-testid":void 0,children:[l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:e==null?void 0:e.countryNameOrigin,placeholder:h._("__JHASH__zMMMJgKRj0h__JHASH__"),onChange:c("WAWebNoop"),theme:"small",customStyleThemes:["desaturated"],managed:!0,onFocus:function(){return d("WAWebCmd").Cmd.showCountrySelector(h._("__JHASH__zMMMJgKRj0h__JHASH__"),e==null?void 0:e.countryCodeOrigin,r,function(a){g("countryCodeOrigin",a)})},error:e==null?void 0:e.countryCodeOriginError}),a&&l.jsxs(l.Fragment,{children:[l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:e==null?void 0:e.importerName,placeholder:j(h._("__JHASH__eRJ4XrBriwk__JHASH__")),onChange:function(a){g("importerName",a.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:d("WAWebComplianceConstants").COMPLIANCE_INFO_LENGTH.IMPORTER_NAME,error:e==null?void 0:e.importerNameError}),l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:e==null?void 0:e.importerAddress.street1,placeholder:j(h._("__JHASH__yomw1RLrLmw__JHASH__")),onChange:function(a){i("street1",a.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:d("WAWebComplianceConstants").COMPLIANCE_INFO_LENGTH.STREET1,error:e==null?void 0:e.importerAddress.street1Error}),l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:e==null?void 0:e.importerAddress.street2,placeholder:s(h._("__JHASH__5ClG29FrewP__JHASH__")),onChange:function(a){i("street2",a.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:d("WAWebComplianceConstants").COMPLIANCE_INFO_LENGTH.STREET2}),l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:e==null?void 0:e.importerAddress.city,placeholder:j(h._("__JHASH__EACJui3o-hX__JHASH__")),onChange:function(a){i("city",a.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:d("WAWebComplianceConstants").COMPLIANCE_INFO_LENGTH.CITY,error:e==null?void 0:e.importerAddress.cityError}),l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:e==null?void 0:e.importerAddress.region,placeholder:s(h._("__JHASH__y9RfCisXzUe__JHASH__")),onChange:function(a){i("region",a.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:d("WAWebComplianceConstants").COMPLIANCE_INFO_LENGTH.REGION}),l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:e==null?void 0:e.importerAddress.countryName,placeholder:j(h._("__JHASH__8ufxA6ECGoY__JHASH__")),onChange:c("WAWebNoop"),theme:"small",customStyleThemes:["desaturated"],managed:!0,onFocus:function(){return d("WAWebCmd").Cmd.showCountrySelector(h._("__JHASH__8ufxA6ECGoY__JHASH__"),e==null?void 0:e.importerAddress.countryCode,p,function(a){i("countryCode",a)})},error:e==null?void 0:e.importerAddress.countryCodeError}),l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:e==null?void 0:e.importerAddress.postalCode,placeholder:s(h._("__JHASH__C1Wnsd5MJTT__JHASH__")),onChange:function(a){i("postalCode",a.text)},theme:"small",customStyleThemes:["desaturated"],maxLength:d("WAWebComplianceConstants").COMPLIANCE_INFO_LENGTH.POSTAL_CODE}),l.jsx(d("WAWebComplianceInfo.react").ComplianceInfoHelpCenterBanner,{xstyle:[d("WAWebUISpacing").uiPadding.top20,d("WAWebUISpacing").uiPadding.bottom40]})]})]})}s.displayName=s.name+" [from "+f.id+"]";g.EditProductDrawer=e}),226);
__d("WAWebManageProductStatusBanner.react",["fbt","WAWebBizAppealProductPopup.react","WAWebClickableLink.react","WAWebConstantsDeprecated","WAWebDrawerContext","WAWebExternalLink.react","WAWebFlex.react","WAWebInfoIcon","WAWebModalManager","WAWebProductCatalogContext","WAWebProductCollection","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebVisibilityOffIcon","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={root:{lineHeight:"x1fc57z9",backgroundColor:"x1iek97a",$$css:!0},appealText:{display:"x1rg5ohu",fontSize:"x1f6kntn",$$css:!0}};function a(a){var b=a.product;function e(){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebDrawerContext").DrawerContext.Consumer,{children:function(a){return k.jsx(c("WAWebBizAppealProductPopup.react"),{product:b,sessionId:d("WAWebProductCatalogContext").getProductCatalogSessionId(a)})}}))}a=k.jsx(c("WAWebClickableLink.react"),{href:c("WAWebConstantsDeprecated").WA_COMMERCE_POLICY_URL,onClick:function(a){a.preventDefault(),d("WAWebExternalLink.react").openExternalLink(c("WAWebConstantsDeprecated").WA_COMMERCE_POLICY_URL)},children:h._("__JHASH__RR1bpeluTQm__JHASH__")});if(b.reviewStatus===d("WAWebProductCollection").PRODUCT_REVIEW_STATUS.APPROVED)return b.isHidden?k.jsxs(d("WAWebFlex.react").FlexRow,{className:(j||(j=c("stylex")))([l.root,d("WAWebUISpacing").uiPadding.vert18,d("WAWebUISpacing").uiPadding.horiz30,d("WAWebUISpacing").uiMargin.bottom0]),children:[k.jsx(d("WAWebFlex.react").FlexItem,{className:"x78zum5 x3psx0u x6s0dn4",children:k.jsx(d("WAWebVisibilityOffIcon").VisibilityOffIcon,{})}),k.jsx(d("WAWebFlex.react").FlexItem,{className:j(d("WAWebUISpacing").uiMargin.start30),children:k.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{children:h._("__JHASH__rGH6vHfXJGQ__JHASH__")})})]}):null;if(b.reviewStatus===d("WAWebProductCollection").PRODUCT_REVIEW_STATUS.REJECTED){if(b.canAppeal===!0){var f=h._("__JHASH__vEbmgFlwy0l__JHASH__",[h._param("learn_more_link",a)]);e=k.jsx(c("WAWebClickableLink.react"),{onClick:e,testid:void 0,children:h._("__JHASH__NIUfRP9Hj9n__JHASH__")});e=k.jsx("span",{className:(j||(j=c("stylex")))([l.appealText,d("WAWebUISpacing").uiMargin.top14]),tabIndex:"0",children:h._("__JHASH__Fc3bRQRH1eb__JHASH__",[h._param("request_review_link",e)])});return k.jsxs("div",{className:"x1fc57z9 x1iek97a","data-testid":void 0,children:[k.jsx("div",{className:"x78zum5 x3psx0u x6s0dn4",children:k.jsx(d("WAWebInfoIcon").InfoIcon,{})}),k.jsxs("div",{className:j(d("WAWebUISpacing").uiMargin.start30),children:[f,e]})]})}f=h._("__JHASH__lJ2qtl6hwJX__JHASH__",[h._param("learn_more_link",a)]);return k.jsx("div",{className:"x1fc57z9 x1iek97a","data-testid":void 0,children:f})}else if(b.reviewStatus===d("WAWebProductCollection").PRODUCT_REVIEW_STATUS.NO_REVIEW||b.reviewStatus===d("WAWebProductCollection").PRODUCT_REVIEW_STATUS.OUTDATED){e=b.isHidden?h._("__JHASH__PX1hqi4_By___JHASH__",[h._param("learn_more_link",a)]):h._("__JHASH__wXzpMwv_8nG__JHASH__",[h._param("learn_more_link",a)]);return k.jsx("div",{className:"x1fc57z9 x1iek97a","data-testid":void 0,children:e})}else if(b.canAppeal===!1){f=h._("__JHASH__WIeolbHm1q6__JHASH__");return k.jsx("div",{className:"x1fc57z9 x1iek97a","data-testid":void 0,children:f})}return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebManageProfileLockup.react",["WAWebCellFrame.react","WAWebConnModel","WAWebDetailImage.react","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.status;a=a.user;b=d("useWAWebModelValues").useModelValues(b,["status"]);return i.jsx(c("WAWebCellFrame.react"),{image:i.jsx(d("WAWebDetailImage.react").DetailImage,{id:a}),primary:d("WAWebConnModel").Conn.pushname,secondary:b.status,idle:!0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebManageProductInfoDrawer.react",["fbt","WAQplTypes","WAWebActiveAccountInfoModel","WAWebAdvertisePill.react","WAWebBizGatingUtils","WAWebBizProductCatalogAction","WAWebButton.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerContext","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebFlatListLoadingSpinnerItem.react","WAWebFlex.react","WAWebManageProductStatusBanner.react","WAWebManageProfileLockup.react","WAWebProductCatalogContext","WAWebProductCatalogLogEvents","WAWebProductCatalogProductDetailsInfo.react","WAWebProductCatalogProductTile.react","WAWebProductCollection","WAWebTextStatusCollection","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebUtilsLogQplEvents","WAWebWDSText.react","WAWebWamEnumLwiEntryPoint","react","stylex","useWAWebModelValues","useWAWebServerGatedAdEntryPoint"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useContext,n=b.useEffect,o=b.useState,p={productWrapper:{width:"x1l2rt3b",$$css:!0},businessInfoTitle:{color:"xx75k7l",$$css:!0}};e=l.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.onCancel,f=a.collectionId,g=a.catalog,i=a.onEditProduct,k=a.onShareProduct,q=m(d("WAWebDrawerContext").DrawerContext),r=d("useWAWebModelValues").useModelValues(a.product,["id","catalogWid","name","priceAmount1000","description","productImageCollection","reviewStatus","url","canAppeal","imageCdnUrl","retailerId","currency","isHidden"]);a=o(!0);var s=a[0],t=a[1];n(function(){var a=d("WAWebUserPrefsMeUser").getMaybeMeUser();d("WAWebUtilsLogQplEvents").qplAnnotateProductView(!(a==null?void 0:a.equals(r.catalogWid)));g.pullProduct(r.id.toString(),!0).then(function(){d("WAWebUtilsLogQplEvents").qplEndProductView(d("WAQplTypes").QuickLogActionType.SUCCESS)})["catch"](function(){d("WAWebUtilsLogQplEvents").qplEndProductView(d("WAQplTypes").QuickLogActionType.FAIL)})["finally"](function(){t(!1)});d("WAWebProductCatalogLogEvents").logProductDetailView({product:r,catalogContext:d("WAWebProductCatalogContext").getProductCatalogContext(q),collectionId:f})},[]);a=function(){i&&i(r)};var u=function(a){k&&k(r)},v=function(){e(),d("WAWebBizProductCatalogAction").sendProductToChat(r,g),d("WAWebProductCatalogLogEvents").logProductMessageBusinessClick(r,d("WAWebProductCatalogContext").getProductCatalogContext(q))},w=l.jsx(d("WAWebWDSText.react").WDSTextMuted,{xstyle:[p.businessInfoTitle,d("WAWebUISpacing").uiPadding.vert10,d("WAWebUISpacing").uiPadding.horiz20],children:h._("__JHASH__o5wJOl-Vs7w__JHASH__")}),x=r.reviewStatus!==d("WAWebProductCollection").PRODUCT_REVIEW_STATUS.APPROVED||r.isHidden,y=d("WAWebActiveAccountInfoModel").getActiveAccountInfo(),z=d("useWAWebServerGatedAdEntryPoint").useServerGatedAdEntryPoint("whatsapp_smb_web_catalog_product",y),A=z[0];z=z[1];var B;if(!A&&r.reviewStatus===d("WAWebProductCollection").PRODUCT_REVIEW_STATUS.APPROVED&&y!=null&&d("WAWebBizGatingUtils").adCreationEntryPointCatalogProductEnabled()){A={activeAccountInfo:y,sourceAdCreation:"whatsapp_smb_web_catalog_product",productId:r.id.toString()};B=l.jsx(d("WAWebAdvertisePill.react").AdvertisePill,{ctaText:z==null?void 0:z.content,adCreationUrlInput:A,lwiEntryPoint:d("WAWebWamEnumLwiEntryPoint").LWI_ENTRY_POINT.SMB_PRODUCT_DETAILS_ADVERTISE_BUTTON,disabled:r.isHidden})}y=l.jsxs(d("WAWebFlex.react").FlexRow,{gap:32,children:[l.jsx(c("WAWebButton.react"),{type:"strong",onClick:a,testid:void 0,children:h._("__JHASH__WF9vsq34ZPl__JHASH__")}),B,l.jsx(c("WAWebButton.react"),{type:"strong-primary",onClick:u,disabled:x,testid:void 0,children:h._("__JHASH__p_xmKpt5Q2d__JHASH__")})]});z=l.jsxs("div",{className:"x78zum5 x6s0dn4",children:[l.jsx("div",{className:"x6ikm8r x10wlt62 x1c3i2sq xk50ysn xlyipyv",children:r.name}),l.jsx("div",{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiMargin.startAuto,d("WAWebUISpacing").uiPadding.all0,d("WAWebUISpacing").uiPadding.end10),children:y})]});A=d("WAWebUserPrefsMeUser").getMaybeMeUser();a=A?d("WAWebTextStatusCollection").TextStatusCollection.get(A):null;u=a&&A?l.jsx(c("WAWebDrawerSection.react"),{title:w,theme:"no-padding",children:l.jsx(c("WAWebManageProfileLockup.react"),{status:a,user:A})}):null;x=s?l.jsx(c("WAWebFlatListLoadingSpinnerItem.react"),{}):l.jsxs(l.Fragment,{children:[l.jsx(c("WAWebProductCatalogProductTile.react"),{product:r,isAvailable:!0,fetching:!1}),l.jsx(c("WAWebManageProductStatusBanner.react"),{product:r}),l.jsx(c("WAWebProductCatalogProductDetailsInfo.react"),{product:r,collectionId:f,onSendChat:v,isAvailable:!0})]});return l.jsxs(c("WAWebDrawer.react"),{ref:b,theme:"catalog",children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{testid:void 0,title:z,titleStr:r.name,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onCancel:e,headingLevel:"2",focusBackOrCancel:!0}),l.jsxs(c("WAWebDrawerBody.react"),{children:[l.jsx(c("WAWebDrawerSection.react"),{theme:"center-column-fixed-width",children:x}),l.jsx("div",{className:j([p.productWrapper,d("WAWebUISpacing").uiMargin.horizAuto]),children:u})]})]},"catalog-link-drawer")}a.displayName=a.name+" [from "+f.id+"]";g.ProductInfoDrawer=e}),226);
__d("WAWebBizEditProductFlow",["fbt","$InternalEnum","WAWebDrawerManager","WAWebManageEditProductDrawer.react","WAWebManageProductInfoDrawer.react","WAWebProductCatalogProductLinkDrawer.react","WAWebUtilsLogQplEvents","react","useWAWebFlow"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useCallback,m=e.useEffect,n=b("$InternalEnum").Mirrored(["EditNewProduct","EditProduct","ProductInfo","ProductLink"]);function a(a){var b=a.catalog,e=a.product,f=a.onCreate,g=a.onDelete;a=a.newProduct;a=d("useWAWebFlow").useFlow(a?n.EditNewProduct:n.ProductInfo);var i=a[0],j=a[1],o=l(function(a){e.id===a.id&&d("WAWebDrawerManager").DrawerManager.closeDrawerMid(),g==null?void 0:g()},[g,e.id]);m(function(){b.productCollection.on("remove",o);return function(){return void b.productCollection.off("remove",o)}},[o,b.productCollection]);var p=function(){d("WAWebUtilsLogQplEvents").qplStartProductView("EditProduct"),j.push(n.ProductInfo)};a=function(){j.push(n.ProductLink)};var q=function(){j.push(n.EditProduct)};if(j.step==null)return null;var r=null;switch(j.step){case n.EditNewProduct:r=k.jsx(d("WAWebManageEditProductDrawer.react").EditProductDrawer,{catalog:b,product:e,newProduct:!0,onEditSuccess:function(a){return f?f(a):p()},onCancel:function(){return j.pop()}});break;case n.EditProduct:r=k.jsx(d("WAWebManageEditProductDrawer.react").EditProductDrawer,{catalog:b,product:e,onEditSuccess:p,onDelete:o,onBack:function(){return j.pop()}});break;case n.ProductInfo:r=k.jsx(d("WAWebManageProductInfoDrawer.react").ProductInfoDrawer,{catalog:b,product:e,onEditProduct:q,onShareProduct:a,onCancel:function(){return j.end()}});break;case n.ProductLink:r=k.jsx(c("WAWebProductCatalogProductLinkDrawer.react"),{product:e,prompt:k.jsx("div",{children:h._("__JHASH__xEiWShvV7K5__JHASH__")}),centerDrawer:!0,sendProductMsg:!0,onSend:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerMid()},onBack:function(){return j.pop()}});break}return k.jsx(i,{flow:j,children:r})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebManageCollectionProductsSelectionList.react",["WAWebFlatList.react","WAWebFlatListContainer.react","WAWebProductCatalogCatalogConstants","WAWebProductCatalogSelectableProductItem.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=d("WAWebFlatList.react").FlatListFactory();function a(a){var b=a.selections,e=a.active,f=a.onSelectionChanged,g=a.catalog,h=function(a,c,d){b.setVal(a,c,d),e.setVal(a,d),f()},k=function(){var a=g.productCollection.getProductModels(!0);return a.map(function(a){return{itemKey:a.id.toString(),product:a}})},l=function(a){var c=b.isSelected(a);h(a,!c,!1)};return i.jsx(c("WAWebFlatListContainer.react"),{flatListControllers:[a.flatListController],children:i.jsx(j,{flatListController:a.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:k(),renderItem:function(a){var d=a.product;return i.jsx(c("WAWebProductCatalogSelectableProductItem.react"),{product:d,selections:b,onClick:function(){return l(d)},active:e},d.id.toString())},defaultItemHeight:d("WAWebProductCatalogCatalogConstants").PRODUCT_LIST_ITEM_HEIGHT})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebManageEditCollectionDrawer.react",["fbt","WAAbortError","WAQplTypes","WAWebBizCatalogUtils","WAWebCheckmarkMediumIcon","WAWebCollectionsFolderIcon","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerContext","WAWebDrawerHeader.react","WAWebFlatListController","WAWebFlatListLoadingSpinnerItem.react","WAWebManageActions","WAWebManageCollectionProductsSelectionList.react","WAWebMultiSelection","WAWebNoop","WAWebProductCatalogCatalogConstants","WAWebProductCatalogContext","WAWebProductCollectionLogEvents","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebRichTextField.react","WAWebRound.react","WAWebSingleSelection","WAWebSpinner.react","WAWebUISpacing","asyncToGeneratorRuntime","react","stylex","useWAWebForceUpdate","useWAWebThrottledCallback","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k;e=k||d("react");var l=i||(i=c("react")),m=e.useEffect,n=e.useMemo,o=e.useState,p={container:{position:"x1n2onr6",zIndex:"xyw6214",display:"x78zum5",flex:"x98rzlu",flexDirection:"xdt5ytf",overflowX:"x6ikm8r",overflowY:"x1odjw0f",$$css:!0},isSending:{pointerEvents:"x47corl",opacity:"xbyyjgo",$$css:!0},footer:{zIndex:"xfo81ep",boxSizing:"x9f619",display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"x1qughib",width:"xh8yej3",height:"xpyat2d",color:"x7o08j2",backgroundColor:"x11doyns",$$css:!0},nameIcon:{position:"x1n2onr6",top:"xyc4j8s",display:"x1rg5ohu",width:"xni59qk",transform:"x1a33avv",$$css:!0},nameEdit:{display:"x1rg5ohu",width:"x65xoit",height:"xnxb3zj",verticalAlign:"x16dsc37",$$css:!0},operation:{color:"x1n68mz9",$$css:!0}};function q(a){var b=a.errorName,c=a.onChange;a=a.value;return l.jsx(d("WAWebRichTextField.react").RichTextField,{editable:!0,focusOnMount:!0,showRemaining:!0,value:a,onChange:function(a){a=a.text;c(a)},inputPlaceholder:h._("__JHASH__pEbEoXTyrxS__JHASH__"),theme:"text-input",error:b,maxLength:30})}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.onClick;a=a.updated;a=h._("__JHASH__x_YGopORbk-__JHASH__",[h._plural(a,"updated")]);return l.jsxs("div",{className:(j||(j=c("stylex")))([p.footer,d("WAWebUISpacing").uiPadding.horiz24]),children:[a,l.jsx("div",{className:j(d("WAWebUISpacing").uiPadding.all12),children:l.jsx(d("WAWebRound.react").Round,{large:!0,onClick:b,children:l.jsx(d("WAWebCheckmarkMediumIcon").CheckmarkMediumIcon,{})})})]})}r.displayName=r.name+" [from "+f.id+"]";function s(a){var b=a.collection,e=a.nameInfo,f=a.selectionList;a=a.syncInfo;var g=e.name,i=e.errorName,k=e.handleNameChange;e=a.isUpdating;var m=a.loadingMore,n=a.syncSelection,o=a.handleSave,s=e?l.jsx("div",{className:"x10l6tqk xh0rhid xtzzx4i xyw6214 x11lhmoz",children:l.jsx(d("WAWebSpinner.react").Spinner,{size:50,stroke:3})}):null,t=n();return l.jsx(d("WAWebDrawerContext").DrawerContext.Consumer,{children:function(a){var e=d("WAWebProductCatalogContext").getProductCatalogContext(a);return l.jsxs(l.Fragment,{children:[s,l.jsxs("div",{className:"x1n2onr6",children:[l.jsx("span",{className:(j||(j=c("stylex")))([p.nameIcon,d("WAWebUISpacing").uiMargin.start7]),children:l.jsx(d("WAWebCollectionsFolderIcon").CollectionsFolderIcon,{})}),l.jsx("span",{className:j([p.nameEdit,d("WAWebUISpacing").uiPadding.top10]),children:l.jsx(q,{onChange:k,value:g,errorName:i})})]}),l.jsx("div",{className:j([p.operation,d("WAWebUISpacing").uiPadding.top5,d("WAWebUISpacing").uiPadding.end0,d("WAWebUISpacing").uiPadding.bottom20,d("WAWebUISpacing").uiPadding.start10]),children:b?h._("__JHASH__nzQTFbApv9x__JHASH__"):h._("__JHASH__eOW3Bk3MR88__JHASH__")}),l.jsxs("div",{className:"xb8htw9 xw2csxc x1odjw0f",children:[f,m&&l.jsx("div",{className:"xrvj5dj xl56j7k x1qx5ct2",children:l.jsx(c("WAWebFlatListLoadingSpinnerItem.react"),{})})]}),t>0||b&&g!==b.name?l.jsx(r,{updated:t,onClick:function(){o(e)}}):null]})}})}s.displayName=s.name+" [from "+f.id+"]";e=l.forwardRef(a);function a(a,e){var f;a=babelHelpers["extends"]({},a);var g=a.catalog,i=a.collection,k=a.onBack,q=n(function(){return new(c("WAWebSingleSelection"))([],function(a){return a.id.toString()})},[]),r=n(function(){return new(c("WAWebMultiSelection"))([],function(a){return a.id.toString()})},[]),t=n(function(){return new(c("WAWebFlatListController"))()},[]),u=d("useWAWebForceUpdate").useForceUpdateDONOTUSE(),v=c("useWAWebUnmountSignal")(),w=o(null),x=w[0],y=w[1];w=o(i==null?void 0:i.name);var z=w[0],A=w[1];w=o(i==null?void 0:i.name);var B=w[0],C=w[1];w=o(null);var D=w[0],E=w[1];w=o(!1);var F=w[0],G=w[1];w=o(!0);var H=w[0],I=w[1],J=function(){var a=new(d("WAWebBizCatalogUtils").CollectionsContentDataSource)(g,d("WAWebProductCatalogCatalogConstants").PRODUCT_LIST_ITEM_HEIGHT,i==null?void 0:i.id),b=new(d("WAWebBizCatalogUtils").CatalogListItemScrollHelper)(a);y(b);a.loadInitialItems().then(function(){if(v.aborted)throw new(d("WAAbortError").AbortError)();I(!1);u()})["catch"](d("WAAbortError").catchAbort(c("WAWebNoop")))};m(function(){J()},[]);w=function(a){A(a),D!=null&&a&&E(null)};var K=c("useWAWebThrottledCallback")(function(a){var b=a.currentTarget;(x==null?void 0:x.willLoadMore(b))&&I(!0);x==null?void 0:x.onScroll(a,b).then(function(a){I(!1),a&&I(!1)})["catch"](function(a){I(!1);throw a})},100),L=function(){var a=g.productCollection.getProductModels(!0),b=0;a.forEach(function(a){!r.isInList(a)?r.setVal(a,a.checkmark):a.checkmark!==r.isSelected(a)&&b++});return b},M=function(){var a=g.productCollection.getProductModels(!0),b=[],c=[];a.forEach(function(a){var d=r.isSelected(a);a.checkmark!==d&&(d?c.push(a):b.push(a))});return{added:c,removed:b}},N=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("WAWebProductCatalogContext").getProductCatalogContext(a);if(z==null||z.trim()==="")E(h._("__JHASH__1FvV5yn_MAo__JHASH__"));else{d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT);G(!0);var b=M(),c=b.added;b=b.removed;var e=z!==B;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,{bool:{IsNew:!i},"int":{ProductsAdded:c.length}});i&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,{bool:{Renamed:e},"int":{ProductsDeleted:b.length}});try{z;var f=(yield d("WAWebManageActions").handleCollectionSave(g,i,z,c,b,a));if(f){k();if(i){f=i.id;e&&(d("WAWebProductCollectionLogEvents").logCollectionRenamed({catalogContext:a,collectionId:f}),C(z));d("WAWebProductCollectionLogEvents").logCollectionItemsAssignment({collectionId:f,addedCount:c.length,removedCount:b.length,catalogContext:a})}d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,d("WAQplTypes").QuickLogActionType.SUCCESS)}else G(!1),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerDrop(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT)}catch(a){G(!1),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT,d("WAQplTypes").QuickLogActionType.FAIL)}}});return function(b){return a.apply(this,arguments)}}(),O=(j||(j=c("stylex")))(p.container,F&&p.isSending);f=((f=a.collection)==null?void 0:f.name)||h._("__JHASH__xs3DELzORvx__JHASH__");var P=function(a){void N(a)};return l.jsxs(c("WAWebDrawer.react"),{ref:e,theme:"products",onDrop:a.onBack,children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:f,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:a.onBack}),l.jsx(c("WAWebDrawerBody.react"),{className:O,flatListControllers:[t],onScroll:K,children:l.jsx(s,{nameInfo:{name:z,errorName:D,handleNameChange:w},syncInfo:{isUpdating:F,loadingMore:H,syncSelection:L,handleSave:P},collection:i,selectionList:l.jsx(c("WAWebManageCollectionProductsSelectionList.react"),{catalog:g,flatListController:t,active:q,selections:r,onSelectionChanged:function(){return u()}})})})]})}a.displayName=a.name+" [from "+f.id+"]";a=e;g["default"]=a}),226);
__d("WAWebManageNewCatalogDrawer.react",["fbt","WAWebCellFrame.react","WAWebClickableLink.react","WAWebConstantsDeprecated","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerContext","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebExternalLink.react","WAWebManageAddItemCta.react","WAWebNoop","WAWebProductCatalogLogEvents","WAWebSpinner.react","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebWDSText.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(i||(i=d("react"))).useEffect,n={isLoading:{pointerEvents:"x47corl",opacity:"xbyyjgo",$$css:!0},placeholderContainer:{width:"xh8yej3",borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"x1exxf4d",$$css:!0},addItemPlaceholder:{borderTopStyle:"x1ejq31n",$$css:!0}},o="https://www.facebook.com/legal/terms",p="https://www.facebook.com/policies/commerce";b=l.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.onBack,f=a.onAddProductClick,g=a.isCreatingCatalogFn,i=a.catalogContext;a=g();m(function(){d("WAWebProductCatalogLogEvents").logCatalogOnboardImpression(i)},[]);g=l.jsx("div",{className:"x1n2onr6 xo5x3gg xnxb3zj x1vkjmz6 xhk9q7s x1otrzb0 x1i1ezom x1o6z2jb"});var k=l.jsx(c("WAWebClickableLink.react"),{href:o,onClick:function(a){a.preventDefault(),d("WAWebExternalLink.react").openExternalLink(o)},children:h._("__JHASH__WHhHiRC-SGp__JHASH__")}),q=l.jsx(c("WAWebClickableLink.react"),{href:p,onClick:function(a){a.preventDefault(),d("WAWebExternalLink.react").openExternalLink(p)},children:h._("__JHASH__7mBlZfpw9Md__JHASH__")}),r=l.jsx(c("WAWebClickableLink.react"),{href:c("WAWebConstantsDeprecated").WA_COMMERCE_POLICY_URL,onClick:function(a){a.preventDefault(),d("WAWebExternalLink.react").openExternalLink(c("WAWebConstantsDeprecated").WA_COMMERCE_POLICY_URL)},children:h._("__JHASH__i-ta5uvpGGt__JHASH__")});k=h._("__JHASH__ZsfLiaU-5eK__JHASH__",[h._param("fb_product_link",k),h._param("fb_commerce_link",q),h._param("wa_commerce_policy_link",r)]);q=(j||(j=c("stylex")))(a&&n.isLoading);r=a?l.jsx("div",{className:"x10l6tqk xh0rhid xtzzx4i xyw6214 x11lhmoz",children:l.jsx(d("WAWebSpinner.react").Spinner,{size:50,stroke:3})}):null;a=a?l.jsx(c("WAWebManageAddItemCta.react"),{onClick:c("WAWebNoop"),theme:"default",idle:!!a,testid:void 0}):l.jsx(d("WAWebDrawerContext").DrawerContext.Consumer,{children:function(a){return l.jsx(c("WAWebManageAddItemCta.react"),{onClick:function(){f()},theme:"default",idle:!1,testid:void 0})}});return l.jsxs(c("WAWebDrawer.react"),{ref:b,children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._("__JHASH__UNA9opkICZW__JHASH__"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:e}),l.jsx(c("WAWebDrawerBody.react"),{className:q,children:l.jsxs(c("WAWebDrawerSection.react"),{theme:"padding-small",animation:!1,children:[r,l.jsx(d("WAWebWDSText.react").WDSTextTitle,{children:h._("__JHASH__otTC9SxrbtK__JHASH__")}),a,l.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{theme:"plain",children:k}),l.jsxs("div",{className:j([n.placeholderContainer,d("WAWebUISpacing").uiPadding.top10,d("WAWebUISpacing").uiMargin.vert20]),children:[l.jsx(c("WAWebCellFrame.react"),{theme:"add-item-placeholder",image:g,customImage:!0,className:j([n.addItemPlaceholder,d("WAWebUISpacing").uiMargin.vert15]),primary:"",secondary:"",idle:!0}),l.jsx("div",{className:"xthe8de x10t13eu x178xt8z x13fuv20 x1exxf4d"}),l.jsx(c("WAWebCellFrame.react"),{theme:"add-item-placeholder",image:g,customImage:!0,className:j([n.addItemPlaceholder,d("WAWebUISpacing").uiMargin.vert15]),primary:"",secondary:"",idle:!0}),l.jsx("div",{className:"xthe8de x10t13eu x178xt8z x13fuv20 x1exxf4d"})]})]})})]},"catalog-link-drawer")}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),226);
__d("WAWebRadioButtonRow.react",["WAWebCellFrame.react","WAWebCheckBoxRound.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.choiceText,d=a.isChosen;a=a.onChoose;return i.jsx(c("WAWebCellFrame.react"),{primary:b,onClick:a,theme:"radio-button-row",image:i.jsx(c("WAWebCheckBoxRound.react"),{checked:d,hover:!1,radio:!0,onChange:a,systemUncheckedColor:!0})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebProductCatalogCatalogSettingsDrawer.react",["fbt","WAAbortError","WALogger","WAPromiseRaceAbort","WAWebBizBusinessProfileAction","WAWebBusinessProfileCollection","WAWebClickableLink.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebExternalLink.react","WAWebFaqUrl","WAWebNoop","WAWebRadioButtonRow.react","WAWebSpinner.react","WAWebText_DONOTUSE.react","WAWebToast.react","WAWebToastManager","WAWebUISpacing","WAWebUserPrefsMeUser","react","stylex","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error fetching the business profile."]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to update cartEnabled value"]);m=function(){return a};return a}b=k||d("react");var n=i||(i=c("react")),o=b.useEffect,p=b.useState,q={loadingSpinner:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",height:"x5yr21d",$$css:!0}};function r(a){var b=a.cartEnabled,e=a.setCartEnabled,f=function(a){var c=b;e(a);d("WAWebBizBusinessProfileAction").updateCartEnabled(a)["catch"](function(a){d("WALogger").ERROR(m()).verbose().devConsole(a).sendLogs("updateCartEnabled: cartEnabled toggle error"),d("WAWebToastManager").ToastManager.open(n.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__SymNcjnBaNV__JHASH__"),duration:6e3})),e(c)})},g=d("WAWebFaqUrl").getCatalogCartOnOffFaqUrl();a=n.jsx(c("WAWebClickableLink.react"),{href:g,onClick:function(a){a.preventDefault(),d("WAWebExternalLink.react").openExternalLink(g)},children:h._("__JHASH__RR1bpeluTQm__JHASH__")});a=h._("__JHASH__2oeUswo_olF__JHASH__",[h._param("learn_more_link",a)]);return n.jsxs(n.Fragment,{children:[n.jsxs(c("WAWebDrawerSection.react"),{title:h._("__JHASH__WQ2lhYLNaKz__JHASH__"),theme:"title-larger",animation:!1,children:[n.jsx(c("WAWebRadioButtonRow.react"),{isChosen:b,onChoose:function(){f(!0)},choiceText:h._("__JHASH__HWOJPLsoo1o__JHASH__")}),n.jsx(c("WAWebRadioButtonRow.react"),{isChosen:!b,onChoose:function(){f(!1)},choiceText:h._("__JHASH__WxXKsn3Clz3__JHASH__")})]}),n.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{theme:"plain",className:(j||(j=c("stylex")))([d("WAWebUISpacing").uiPadding.vert20,d("WAWebUISpacing").uiPadding.horiz25]),children:a})]})}r.displayName=r.name+" [from "+f.id+"]";e=n.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.onBack,f=p(!0),g=f[0],i=f[1];f=p(!1);var k=f[0],m=f[1],s=c("useWAWebUnmountSignal")();o(function(){c("WAPromiseRaceAbort")(d("WAWebBusinessProfileCollection").BusinessProfileCollection.fetchBizProfile(d("WAWebUserPrefsMeUser").getMeUser()),s).then(function(a){a=a.profileOptions;m(a!=null&&a.cartEnabled===!0);i(!1)})["catch"](d("WAAbortError").catchAbort(c("WAWebNoop")))["catch"](function(a){d("WALogger").ERROR(l()).verbose().devConsole(a),d("WAWebToastManager").ToastManager.open(n.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__OKrCqAmrqcf__JHASH__"),duration:6e3})),e()})},[]);f=function(a){m(a)};return n.jsxs(c("WAWebDrawer.react"),{ref:b,theme:"catalog",onDrop:a.onBack,children:[n.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._("__JHASH__vCoxAeO-9BV__JHASH__"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:a.onBack,focusBackOrCancel:!0}),n.jsx(c("WAWebDrawerBody.react"),{children:g?n.jsx("div",{className:(j||(j=c("stylex")))([q.loadingSpinner,d("WAWebUISpacing").uiPadding.all0]),children:n.jsx(d("WAWebSpinner.react").Spinner,{})}):n.jsx(r,{cartEnabled:k,setCartEnabled:f})})]})}a.displayName=a.name+" [from "+f.id+"]";g.CatalogSettingsDrawer=e}),226);
__d("WAWebProductCollectionCollectionManageListItem.react",["fbt","WAWebChatCell.react","WAWebCollectionsFolderIcon","WAWebDraggableItemIcon","WAWebDropdownItem.react","WAWebEmojiText.react","WAWebFlex.react","WAWebUISpacing","WAWebUimUie.react","WAWebUimUieMenu.react","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState,m=function(){return k.jsx(d("WAWebFlex.react").FlexColumn,{xstyle:d("WAWebUISpacing").uiMargin.end15,justify:"center",align:"center",children:k.jsx(d("WAWebDraggableItemIcon").DraggableItemIcon,{})})};function a(a){var b=a.collection,e=a.theme;e=e===void 0?"collection-edit":e;var f=a.onDelete,g=a.onEdit,i=a.onSeeCollection,j=a.canManage,n=a.isReorder,o=l(!1);o=o[0];var p=l(null),q=p[0],r=p[1],s=function(a){a.preventDefault(),a.stopPropagation(),f&&f(b)},t=function(a){a.preventDefault(),a.stopPropagation(),g&&g(b)};p=function(a){a.preventDefault();a.stopPropagation();if(n)return;i&&i(b)};var u=function(){r(null)},v=function(a){if(q){r(null);return}var b=[];j&&(b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:t,children:h._("__JHASH__Adv4Nc-M4US__JHASH__")},"EditLabel")),b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:s,children:h._("__JHASH__uGnvjBNnTFA__JHASH__")},"DeleteLabel")));r({menu:b,event:a.event,anchor:a.anchor})},w=k.jsx("div",{className:"xyw6214 x78zum5 x6s0dn4 xl56j7k x1dmp6jm x1xmf6yo x1jqylkn x1e56ztr x1mh8g0r x1xcyms6 x47corl xso2hbu xnwf7zb x40j3uw x1s7lred x15gyhx8",children:k.jsx("div",{className:"xhkc9bb",children:k.jsx(d("WAWebCollectionsFolderIcon").CollectionsFolderIcon,{})})}),x=k.jsx(d("WAWebEmojiText.react").EmojiText,{text:b.name,ellipsify:!0,titlify:!0}),y;q&&(y=k.jsx(d("WAWebUimUie.react").UIE,{displayName:"CollectionContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:u,children:k.jsx(c("WAWebUimUieMenu.react"),{contextMenu:q})}));return k.jsxs(k.Fragment,{children:[k.jsx(c("WAWebChatCell.react"),{customImage:!0,image:w,primary:x,theme:e,detail:n?k.jsx(m,{}):void 0,active:o,contextEnabled:function(){return a.canManage&&!n},onContext:v,onClick:p},b.id.toString()),y]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebProductCollectionCollectionsList.react",["WAWebDrawerContext","WAWebFlatList.react","WAWebFlatListContainer.react","WAWebListDragAndDropItem.react","WAWebManageActions","WAWebProductCatalogCatalogConstants","WAWebProductCatalogContext","WAWebProductCollectionCollectionManageListItem.react","WAWebStateUtils","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useContext,l=b.useMemo,m=d("WAWebFlatList.react").FlatListFactory();function a(a){var b=a.data,e=a.canManage,f=a.onEditCollection,g=a.onSeeCollection,h=a.isReorder,i=a.handleReorderMove,n=a.containerRef,o=a.onFinalDropOfItem,p=d("useWAWebModelValues").useModelValues(a.catalog,["collections"]),q=l(function(){return b.map(function(a,b){return a.collection?{itemKey:a.collection.id,catalogListItem:a,order:b}:null}).filter(Boolean)},[b]),r=function(a,b){d("WAWebManageActions").handleCollectionDelete(d("WAWebStateUtils").unproxy(p),a,b)},s=k(d("WAWebDrawerContext").DrawerContext),t=function(a){return!a?null:j.jsx(c("WAWebProductCollectionCollectionManageListItem.react"),{collection:a,canManage:e,onDelete:function(){return r(a,d("WAWebProductCatalogContext").getProductCatalogContext(s))},onEdit:f,onSeeCollection:g,isReorder:h})};return j.jsx(c("WAWebFlatListContainer.react"),{flatListControllers:[a.flatListController],children:j.jsx(d("WAWebListDragAndDropItem.react").DragAndDropWrapper,{containerRef:n,children:j.jsx(m,{flatListController:a.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:q,renderItem:function(a){var b=a.catalogListItem.collection;a=a.order;return!h?t(b):j.jsx(d("WAWebListDragAndDropItem.react").DragAndDropItem,{index:a,onMove:i,onFinalDrop:o,children:t(b)})},defaultItemHeight:d("WAWebProductCatalogCatalogConstants").PRODUCT_LIST_ITEM_HEIGHT})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebProductCollectionCollectionsManagementDrawerMenu",["fbt","WAWebBizGatingUtils","WAWebDropdown.react","WAWebDropdownItem.react","WAWebMenuBar.react","WAWebMenuIcon","WAWebNoop","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");b=j.forwardRef(a);function a(a,b){var e=a.isReorderEnabled;a=a.onReorder;a=a===void 0?c("WAWebNoop"):a;var f=[];e&&d("WAWebBizGatingUtils").isCollectionReorderingEnabled()&&f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:a,children:h._("__JHASH__LRJbW9RfL2K__JHASH__")},"reorder-button"));return f.length===0?null:j.jsx(d("WAWebMenuBar.react").MenuBarItem,{ref:b,testid:void 0,icon:j.jsx(d("WAWebMenuIcon").MenuIcon,{}),title:h._("__JHASH__Ii8k4HsToid__JHASH__"),children:j.jsx(d("WAWebDropdown.react").Dropdown,{type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT,children:f},"CatalogDetailHeader")})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),226);
__d("WAWebProductCollectionCollectionsManagementDrawer.react",["fbt","WAArrayDiff","WAArrayMove","WAArraysShallowEqual","WAQplTypes","WAWebBizCatalogUtils","WAWebCatalogCollection","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerContext","WAWebDrawerHeader.react","WAWebFlatListController","WAWebFlatListLoadingSpinnerItem.react","WAWebFlex.react","WAWebFlexItem.react","WAWebManageActions","WAWebManageAddItemCta.react","WAWebProductCatalogCatalogConstants","WAWebProductCatalogContext","WAWebProductCollectionCollectionsList.react","WAWebProductCollectionCollectionsManagementDrawerMenu","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebSpinner.react","WAWebUA","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebWDSButton","asyncToGeneratorRuntime","react","useWAWebOnUnmount","useWAWebStableCallback","useWAWebThrottledCallback"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useCallback,m=e.useContext,n=e.useEffect,o=e.useMemo,p=e.useRef,q=e.useState,r={footer:{backgroundColor:"x1bmpntp",$$css:!0},reorderLoadingScreen:{minWidth:"xgqtt45",minHeight:"x1us19tq",position:"x10l6tqk",zIndex:"x1bpt9pm",backgroundColor:"x1nuwr84",transitionProperty:"x15406qy",transitionDuration:"x1d8287x",transitionTimingFunction:"xwji4o3",$$css:!0}};function s(a){var b=a.disableBtn;b=b===void 0?!1:b;var c=a.isLoading;a=a.onClick;return k.jsx(d("WAWebFlex.react").FlexContainer,{xstyle:[r.footer,d("WAWebUISpacing").uiPadding.all12,d("WAWebUISpacing").uiPadding.bottom20],direction:"horizontal",justify:"end",children:k.jsx(d("WAWebWDSButton").WDSButtonPrimary,{onClick:a,disabled:b,spinner:c,children:h._("__JHASH__zIS_KZOqS83__JHASH__")})})}s.displayName=s.name+" [from "+f.id+"]";function t(){return k.jsx(d("WAWebFlex.react").FlexRow,{xstyle:r.reorderLoadingScreen,align:"center",justify:"center",testid:void 0,children:k.jsx(c("WAWebFlexItem.react"),{children:k.jsx(d("WAWebSpinner.react").Spinner,{size:50,stroke:4,color:"accent"})})})}t.displayName=t.name+" [from "+f.id+"]";function u(a){var b=a.catalog,d=a.catalogFlatListController,e=a.checkIfCollectionIsDirty,f=a.drawerRef,g=a.editCollection,i=a.handleReorderMove,j=a.isLoadingMore,l=a.isReorder,m=a.onSeeCollection;a=a.reorderedCollection;return b?k.jsxs("div",{children:[!l&&k.jsx(c("WAWebManageAddItemCta.react"),{onClick:function(){g(null)},theme:"collections",title:h._("__JHASH__M67RT-82Zot__JHASH__")}),a.length!==0&&k.jsx(c("WAWebProductCollectionCollectionsList.react"),{canManage:!0,catalog:b,onEditCollection:g,data:a,flatListController:d,onSeeCollection:m,isReorder:l,handleReorderMove:i,containerRef:f,onFinalDropOfItem:e}),j&&k.jsx("div",{className:"xrvj5dj xl56j7k x1qx5ct2",children:k.jsx(c("WAWebFlatListLoadingSpinnerItem.react"),{})})]}):null}u.displayName=u.name+" [from "+f.id+"]";e=k.forwardRef(a);function a(a,e){var f=babelHelpers["extends"]({},a),g=f.setScrollOffset;a=f.editCollection;var i=f.onSeeCollection,j=f.onReorderCollection,r=f.isReorder,v=r===void 0?!1:r,w=f.onBack;r=o(function(){return new(c("WAWebFlatListController"))()},[]);var x=p(null),y=q(!0),z=y[0],A=y[1],B=p(null);y=q(null);var C=y[0],D=y[1];y=q([]);var E=y[0],F=y[1];y=q(!1);var G=y[0],H=y[1];y=q(!1);var I=y[0],J=y[1],K=p(!0),L=m(d("WAWebDrawerContext").DrawerContext),M=o(function(){var a=d("WAWebUserPrefsMeUser").getMeUser();return d("WAWebCatalogCollection").CatalogCollection.get(a)},[]),N=l(function(a){var c=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!M)return;try{var b=new(d("WAWebBizCatalogUtils").CollectionsDataSource)(M,!0,d("WAWebProductCatalogCatalogConstants").PRODUCT_LIST_ITEM_HEIGHT,a);yield b==null?void 0:b.loadInitialItems();if(!K.current||!b)return;var c=new(d("WAWebBizCatalogUtils").CatalogListItemScrollHelper)(b);B.current=b;D(c);F(b.getData());A(!1);a&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW,d("WAQplTypes").QuickLogActionType.SUCCESS)}catch(b){a&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW,d("WAQplTypes").QuickLogActionType.FAIL)}});return function(){return c.apply(this,arguments)}}();c()},[M]);n(function(){if(!M)return;var a=f.isPushed;a=a===void 0?!0:a;M.collections.on("add remove",function(){if(!K.current||!B.current)return;F(function(a){var b;b=((b=B.current)==null?void 0:b.getData())||[];return v?[].concat(a,b.slice(a.length)):b})});N(a&&!v)},[]);var O=c("useWAWebThrottledCallback")(function(a,b){g==null?void 0:g(b.scrollTop),(C==null?void 0:C.willLoadMore(b))&&A(!0),C==null?void 0:C.onScroll(a,b).then(function(a){a&&A(!1)})["catch"](function(a){A(!1);throw a})},100);y=function(a){a.currentTarget&&O(a,a.currentTarget)};var P=l(function(a,b){F(function(c){return d("WAArrayMove").arrayMove(c,a,b)})},[]),Q=c("useWAWebStableCallback")(function(){var a=(M==null?void 0:M.collections.map(function(a){return a.id}))||[],b=E.reduce(function(a,b){b.collection&&a.push(b.collection.id);return a},[]);H(!c("WAArraysShallowEqual")(a,b))});c("useWAWebOnUnmount")(function(){K.current=!1});var R=l(function(){var a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{if(!M)return;J(!0);var a=d("WAWebProductCatalogContext").getProductCatalogContext(L),b=(M==null?void 0:M.collections.map(function(a){return a.id}))||[],c=E.reduce(function(a,b){b.collection&&a.push(b.collection.id);return a},[]);b=d("WAArrayDiff").findArrayDiff(b,c);c=b.moved;if(!c.length){J(!1);H(!1);return}b=(yield d("WAWebManageActions").handleCollectionReorder(c,a));if(!K.current||!B.current)return;(c=B.current)==null?void 0:c.resetData();if(b){w();return}yield N(!1);H(!1)}finally{K.current&&J(!1)}});return function(){return a.apply(this,arguments)}}();a()},[E,M,w,L,N]);return k.jsxs(c("WAWebDrawer.react"),{ref:e,theme:"products",children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:v?h._("__JHASH__O9-rmr7vLR6__JHASH__"):h._("__JHASH__vSCZXa19koi__JHASH__"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:f.onBack,menu:k.jsx(c("WAWebProductCollectionCollectionsManagementDrawerMenu"),{isReorderEnabled:!d("WAWebUA").UA.isSafari&&!v&&E.length>1,onReorder:j})}),k.jsx(c("WAWebDrawerBody.react"),{ref:x,onScroll:y,flatListControllers:[r],scrollOffset:f.scrollOffset,children:k.jsx(u,{catalog:M,isReorder:v,isLoadingMore:z,reorderedCollection:E,editCollection:a,onSeeCollection:i,handleReorderMove:P,checkIfCollectionIsDirty:Q,catalogFlatListController:r,drawerRef:x.current})}),v&&k.jsx(s,{disableBtn:!G||I,isLoading:I,onClick:function(){R()}}),I&&k.jsx(t,{})]})}a.displayName=a.name+" [from "+f.id+"]";a=e;g["default"]=a}),226);
__d("WAWebBizCatalogManagementFlow.react",["fbt","$InternalEnum","WAFilteredCatch","WALogger","WANullthrows","WAQplTypes","WAWebBackendErrors","WAWebBizComplianceUtil","WAWebBizEditProductFlow","WAWebBizGatingUtils","WAWebBizProductCatalogBridge","WAWebBizShowCartAction","WAWebBusinessProfileCollection","WAWebCatalogCollection","WAWebComplianceInfo.react","WAWebContactCollection","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerContext","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebKeyboardTabUtils","WAWebManageEditCollectionDrawer.react","WAWebManageNewCatalogDrawer.react","WAWebMerchantDetailsFormFlowLoadable","WAWebProductCatalogCatalogLinkDrawer.react","WAWebProductCatalogCatalogSettingsDrawer.react","WAWebProductCatalogContext","WAWebProductCatalogLogEvents","WAWebProductCatalogProductLinkDrawer.react","WAWebProductCollectionCatalogViewDrawer.react","WAWebProductCollectionCollectionContentDrawer.react","WAWebProductCollectionCollectionsManagementDrawer.react","WAWebProductCollectionLogEvents","WAWebProductModel","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebToast.react","WAWebToastManager","WAWebUim","WAWebUserPrefsMeUser","WAWebUtilsLogQplEvents","asyncToGeneratorRuntime","react","useWAWebFlow"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to fetch product catalog from server"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Cannot update compliance for non existing user"]);l=function(){return a};return a}var m=j||d("react"),n=i||(i=c("react")),o=m.useCallback,p=m.useContext,q=m.useEffect,r=m.useRef,s=m.useState,t=b("$InternalEnum").Mirrored(["YES","NO","PENDING"]),u=b("$InternalEnum").Mirrored(["CollectionContent","CatalogView","NewCatalog","ComplianceForm","MerchantDetails","EditCollection","OpenCollections","ReorderCollections","SeeCollection","CatalogSettings"]),v=n.forwardRef(a);function a(a,e){var f,g=babelHelpers["extends"]({},a);a=d("useWAWebFlow").useFlow();var i=a[0],j=a[1];a=s(null);var k=a[0],l=a[1];a=s(null);var m=a[0],p=a[1];a=s(!1);var v=a[0],x=a[1],y=r(!1),z=r(!1),A=function(a){l(a),j.push(u.CollectionContent)},B=o(function(a){x(a),j.push(u.CatalogView)},[j]),C=function(a){var b=d("WAWebCatalogCollection").CatalogCollection.assertGet(g.catalogId);d("WAWebDrawerManager").DrawerManager.openDrawerMid(n.jsx(c("WAWebBizEditProductFlow"),{catalog:b,product:a}),{transition:"slide-left",newDrawerContext:g.context,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})},D=function(){j.push(u.NewCatalog)},E=o(function(){j.push(u.ComplianceForm)},[j]),F=function(){return g.onAddProduct()};q(function(){g.collection!=null?A(g.collection):g.catalog!=null?(B(!0),g.promotionCampaign==="video-upload"?F():(g.promotionCampaign,g.product!=null&&C(g.product))):(d("WAWebQplQuickPerformanceLoggerModule").QPL.markerDrop(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW),D())},[]);q(function(){g.showComplianceForm&&!y.current?(y.current=!0,E()):g.showProductList&&!z.current&&(z.current=!0,B(!1))},[g.showComplianceForm,g.showProductList,E,B]);a=function(){j.push(u.MerchantDetails)};var G=function(a){c("WAWebBizShowCartAction")(a,void 0,g.context)},H=function(a){a||d("WAWebProductCollectionLogEvents").logCollectionCreateClicked(d("WAWebProductCatalogContext").getProductCatalogContext(g.context));var b=d("WAWebCatalogCollection").CatalogCollection.get(g.catalogId);b&&(l(a),p(b),j.push(u.EditCollection))},I=function(a,b){d("WAWebDrawerManager").DrawerManager.openDrawerMid(n.jsx(c("WAWebProductCatalogCatalogLinkDrawer.react"),{onCancel:function(){d("WAWebDrawerManager").DrawerManager.closeDrawerMid()},catalog:a,contact:b,prompt:h._("__JHASH__xEiWShvV7K5__JHASH__"),onSend:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerMid()},centerDrawer:!0}),{transition:"slide-left",newDrawerContext:g.context,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})},J=function(a){d("WAWebDrawerManager").DrawerManager.openDrawerMid(n.jsx(c("WAWebProductCatalogProductLinkDrawer.react"),{onCancel:function(){d("WAWebDrawerManager").DrawerManager.closeDrawerMid()},product:a,prompt:h._("__JHASH__xEiWShvV7K5__JHASH__"),onSend:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerMid()},centerDrawer:!0,sendProductMsg:!0}),{transition:"slide-left",newDrawerContext:g.context,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})},K=function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW),j.push(u.OpenCollections),d("WAWebProductCollectionLogEvents").logCollectionMenuClicked(d("WAWebProductCatalogContext").getProductCatalogContext(g.context))},L=function(){j.push(u.ReorderCollections)},M=function(a){d("WAWebUtilsLogQplEvents").qplStartCollectionViewAll("Collection"),l(a),j.push(u.SeeCollection)},N=function(){j.push(u.CatalogSettings)},O=function(){return g.onAddFirstProduct()},P=function(){return g.onRemoveProduct()},Q=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){R();y.current=!1;yield g.onComplianceFormClosed();var a=d("WAWebCatalogCollection").CatalogCollection.get(g.catalogId);a?F():void O()});return function(){return a.apply(this,arguments)}}(),R=function(){j.pop(),d("WAWebDrawerManager").DrawerManager.closeDrawerMid()},S=function(){j.end(d("WAWebUim").DismissReason.LIFECYCLE),d("WAWebDrawerManager").DrawerManager.closeDrawerMid()};if(j.step==null)return null;var T;switch(j.step){case u.CollectionContent:T=n.jsx(d("WAWebProductCollectionCollectionContentDrawer.react").CollectionContentDrawer,{contact:g.contact,onProductDetail:C,onProductShare:J,catalogId:g.catalogId,onBack:R,onCatalogLinkClick:I,onCartClick:G,collection:(f=k)!=null?f:void 0,canManageCatalog:!0,headerType:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onEditCollection:H});break;case u.CatalogView:T=n.jsx(c("WAWebProductCollectionCatalogViewDrawer.react"),{contact:g.contact,onCatalogLinkClick:I,onProductShare:J,onProductDetail:C,onAddProduct:F,onRemoveProduct:P,catalogId:g.catalogId,onBack:S,onCartClick:G,businessProfile:null,onCollectionSeeAll:A,canManageCatalog:!0,autoUpdate:!0,onOpenCollections:K,onOpenMerchantDetailsForm:a,onEditCollection:H,onOpenSettings:N,blockCartInterstitialFn:function(){return g.mustCompleteCompliance!==t.NO},canLogQpl:v,isInitialStep:(f=g.isInitialStep)!=null?f:!1});break;case u.NewCatalog:T=n.jsx(c("WAWebManageNewCatalogDrawer.react"),{isCreatingCatalogFn:function(){return g.isCreatingCatalog},onBack:R,onAddProductClick:O,catalogContext:d("WAWebProductCatalogContext").getProductCatalogContext(g.context)});break;case u.ComplianceForm:T=n.jsx(d("WAWebMerchantDetailsFormFlowLoadable").MerchantDetailsFormFlowLoadable,{contactId:g.contact.id,enableCatalogCreationContext:!0,enableBusinessProfileAddress:!0,onAddProduct:Q,onBack:function(){R(),y.current=!1,void g.onComplianceFormClosed()},onUnmount:function(){y.current=!1,void g.onComplianceFormClosed()}});break;case u.MerchantDetails:T=n.jsx(d("WAWebMerchantDetailsFormFlowLoadable").MerchantDetailsFormFlowLoadable,{contactId:d("WAWebUserPrefsMeUser").getMeUser(),onBack:R});break;case u.EditCollection:T=n.jsx(c("WAWebManageEditCollectionDrawer.react"),{onBack:R,collection:k,catalog:c("WANullthrows")(m)});break;case u.OpenCollections:T=n.jsx(c("WAWebProductCollectionCollectionsManagementDrawer.react"),{onBack:R,editCollection:H,onSeeCollection:M,onReorderCollection:L});break;case u.ReorderCollections:T=n.jsx(c("WAWebProductCollectionCollectionsManagementDrawer.react"),{onBack:R,editCollection:H,onSeeCollection:M,isReorder:!0});break;case u.SeeCollection:T=n.jsx(w,{catalogId:g.catalogId,collection:k,product:null,isInitialStep:!1});break;case u.CatalogSettings:T=n.jsx(d("WAWebProductCatalogCatalogSettingsDrawer.react").CatalogSettingsDrawer,{onBack:R});break}return n.jsx(i,{ref:e,flow:j,displayName:"CatalogManagementFlow",children:T})}a.displayName=a.name+" [from "+f.id+"]";var w=n.forwardRef(e);function e(a,e){var f=babelHelpers["extends"]({},a),g=p(d("WAWebDrawerContext").DrawerContext);a=s(t.PENDING);var i=a[0],j=a[1],m=d("WAWebContactCollection").ContactCollection.get(f.catalogId);a=s(!1);var r=a[0],u=a[1];a=s(!1);var w=a[0],x=a[1];a=s(!1);var y=a[0],z=a[1];a=s(!1);var A=a[0],B=a[1],C=o(function(){return d("WAWebCatalogCollection").CatalogCollection.get(f.catalogId)},[f.catalogId]),D=o((a=b("asyncToGeneratorRuntime")).asyncToGenerator(function*(){var a;if(!m){d("WALogger").ERROR(l()).sendLogs("catalog-management-flow-compliance-no-contact-error");return}j(t.PENDING);a=(a=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(m.id))==null?void 0:a.address;var b=t.NO,c=C();d("WAWebBizGatingUtils").canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney(m.id)&&(!c||!c.productCollection.length)&&!d("WAWebBizComplianceUtil").isBusinessCompliant(a,yield d("WAWebComplianceInfo.react").getLegalEntityDetails(m.id),m.id)&&(b=t.YES);j(b)}),[m,C]),E=o(function(){var a=C();if(i===t.YES)u(!0);else if(i===t.PENDING)z(!0);else if(a){var b=new(d("WAWebProductModel").Product)({catalogWid:a.id,additionalImageCdnUrl:[]}),e=function(b){d("WAWebDrawerManager").DrawerManager.openDrawerMid(n.jsx(c("WAWebBizEditProductFlow"),{catalog:a,product:b}),{transition:"slide-left",newDrawerContext:g,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})};d("WAWebDrawerManager").DrawerManager.openDrawerMid(n.jsx(c("WAWebBizEditProductFlow"),{catalog:a,product:b,onCreate:e,newProduct:!0}),{transition:"slide-left",newDrawerContext:g,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})}},[i,g,C]),F=o(a.asyncToGenerator(function*(){B(!0);var a=d("WAWebProductCatalogContext").getProductCatalogContext(g);d("WAWebProductCatalogLogEvents").logCreateProductCatalogClick(a);d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_CATALOG_CREATE);var b=!0;try{yield d("WAWebBizProductCatalogBridge").createCatalog();d("WAWebProductCatalogLogEvents").logCreateProductCatalogSuccess(a);b=!1;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_CATALOG_CREATE,d("WAQplTypes").QuickLogActionType.SUCCESS);try{yield d("WAWebCatalogCollection").CatalogCollection.find(f.catalogId),x(!0),E()}catch(a){d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(a){d("WALogger").WARN(k()).devConsole(a)})}}catch(b){d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(b){d("WAWebProductCatalogLogEvents").logCreateProductCatalogFailed(a,b.statusCode),d("WAWebToastManager").ToastManager.open(n.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__0W7gnENl8fK__JHASH__"),id:d("WAWebToast.react").genId("err_catalog_already_created")})),x(!0)})}finally{b&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_CATALOG_CREATE,d("WAQplTypes").QuickLogActionType.FAIL)}B(!1)}),[f.catalogId,g,E]),G=o(a.asyncToGenerator(function*(){i===t.YES?u(!0):i===t.PENDING?z(!0):yield F()}),[i,F]),H=o(a.asyncToGenerator(function*(){yield D()}),[D]);q(function(){D()},[]);q(function(){var a=C();y&&i!==t.PENDING&&(z(!1),i===t.YES?u(!0):a?E():F());i===t.YES&&d("WAWebDrawerManager").DrawerManager.closeDrawerMid()},[y,i,C,F,E]);if(!m)return null;return y?n.jsxs(c("WAWebDrawer.react"),{ref:e,children:[n.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._("__JHASH__i1U1Xb4tCD4__JHASH__"),onCancel:function(){u(!1),z(!1)},type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),n.jsx(c("WAWebDrawerBody.react"),{theme:"center-content",children:n.jsx(d("WAWebComplianceInfo.react").ComplianceInfoLoading,{})})]}):n.jsx(d("WAWebDrawerContext").DrawerContext.Consumer,{children:function(a){return n.jsx(v,babelHelpers["extends"]({ref:e,contact:m,context:a,mustCompleteCompliance:i,showComplianceForm:r,showProductList:w,isCreatingCatalog:A,onAddProduct:E,onAddFirstProduct:G,onRemoveProduct:H,onComplianceFormClosed:function(){u(!1);return D()}},f))}})}e.displayName=e.name+" [from "+f.id+"]";m=w;g["default"]=m}),226);